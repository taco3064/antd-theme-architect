import{R as U,r as s,C as B,F as Y,h as Z,i as ee,k as W,c as T,T as ne,W as te,o as le,l as z,j as c,f as se,D as ae}from"./index-iIwp71WN.js";import{u as re,C as oe}from"./useBubbleLock-DyIk_OXe.js";import{u as q}from"./index-Dj3cdsCy.js";const H=U.createContext(null);var ce=function(e,u){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&u.indexOf(n)<0&&(o[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)u.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(o[n[a]]=e[n[a]]);return o};const ue=(e,u)=>{var o;const{prefixCls:n,className:a,rootClassName:k,children:f,indeterminate:O=!1,style:$,onMouseEnter:y,onMouseLeave:d,skipGroup:P=!1,disabled:w}=e,r=ce(e,["prefixCls","className","rootClassName","children","indeterminate","style","onMouseEnter","onMouseLeave","skipGroup","disabled"]),{getPrefixCls:V,direction:G,checkbox:p}=s.useContext(B),l=s.useContext(H),{isFormItemInput:I}=s.useContext(Y),_=s.useContext(Z),j=(o=(l==null?void 0:l.disabled)||w)!==null&&o!==void 0?o:_,b=s.useRef(r.value),h=s.useRef(null),E=ee(u,h);s.useEffect(()=>{l==null||l.registerValue(r.value)},[]),s.useEffect(()=>{if(!P)return r.value!==b.current&&(l==null||l.cancelValue(b.current),l==null||l.registerValue(r.value),b.current=r.value),()=>l==null?void 0:l.cancelValue(r.value)},[r.value]),s.useEffect(()=>{var g;!((g=h.current)===null||g===void 0)&&g.input&&(h.current.input.indeterminate=O)},[O]);const i=V("checkbox",n),A=W(i),[R,S,L]=q(i,A),C=Object.assign({},r);l&&!P&&(C.onChange=function(){r.onChange&&r.onChange.apply(r,arguments),l.toggleOption&&l.toggleOption({label:f,value:r.value})},C.name=l.name,C.checked=l.value.includes(r.value));const D=T(`${i}-wrapper`,{[`${i}-rtl`]:G==="rtl",[`${i}-wrapper-checked`]:C.checked,[`${i}-wrapper-disabled`]:j,[`${i}-wrapper-in-form-item`]:I},p==null?void 0:p.className,a,k,L,A,S),t=T({[`${i}-indeterminate`]:O},ne,S),[m,x]=re(C.onClick);return R(s.createElement(te,{component:"Checkbox",disabled:j},s.createElement("label",{className:D,style:Object.assign(Object.assign({},p==null?void 0:p.style),$),onMouseEnter:y,onMouseLeave:d,onClick:m},s.createElement(oe,Object.assign({},C,{onClick:x,prefixCls:i,className:t,disabled:j,ref:E})),f!==void 0&&s.createElement("span",{className:`${i}-label`},f))))},K=s.forwardRef(ue);var ie=function(e,u){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&u.indexOf(n)<0&&(o[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)u.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(o[n[a]]=e[n[a]]);return o};const de=s.forwardRef((e,u)=>{const{defaultValue:o,children:n,options:a=[],prefixCls:k,className:f,rootClassName:O,style:$,onChange:y}=e,d=ie(e,["defaultValue","children","options","prefixCls","className","rootClassName","style","onChange"]),{getPrefixCls:P,direction:w}=s.useContext(B),[r,V]=s.useState(d.value||o||[]),[G,p]=s.useState([]);s.useEffect(()=>{"value"in d&&V(d.value||[])},[d.value]);const l=s.useMemo(()=>a.map(t=>typeof t=="string"||typeof t=="number"?{label:t,value:t}:t),[a]),I=t=>{p(m=>m.filter(x=>x!==t))},_=t=>{p(m=>[].concat(z(m),[t]))},j=t=>{const m=r.indexOf(t.value),x=z(r);m===-1?x.push(t.value):x.splice(m,1),"value"in d||V(x),y==null||y(x.filter(g=>G.includes(g)).sort((g,X)=>{const J=l.findIndex(F=>F.value===g),Q=l.findIndex(F=>F.value===X);return J-Q}))},b=P("checkbox",k),h=`${b}-group`,E=W(b),[i,A,R]=q(b,E),S=le(d,["value","disabled"]),L=a.length?l.map(t=>s.createElement(K,{prefixCls:b,key:t.value.toString(),disabled:"disabled"in t?t.disabled:d.disabled,value:t.value,checked:r.includes(t.value),onChange:t.onChange,className:`${h}-item`,style:t.style,title:t.title,id:t.id,required:t.required},t.label)):n,C={toggleOption:j,value:r,disabled:d.disabled,name:d.name,registerValue:_,cancelValue:I},D=T(h,{[`${h}-rtl`]:w==="rtl"},f,O,R,E,A);return i(s.createElement("div",Object.assign({className:D,style:$},S,{ref:u}),s.createElement(H.Provider,{value:C},L)))}),v=K;v.Group=de;v.__ANT_CHECKBOX=!0;const fe=v.Group,N=["Apple","Pear","Orange"],pe=["Apple","Orange"],be=()=>{const[e,u]=s.useState(pe),o=N.length===e.length,n=e.length>0&&e.length<N.length,a=f=>{u(f)},k=f=>{u(f.target.checked?N:[])};return c.jsxs(c.Fragment,{children:[c.jsx(v,{indeterminate:n,onChange:k,checked:o,children:"Check all"}),c.jsx(se,{}),c.jsx(fe,{options:N,value:e,onChange:a})]})},M=e=>{console.log("checked = ",e)},Ce=["Apple","Pear","Orange"],me=[{label:"Apple",value:"Apple"},{label:"Pear",value:"Pear"},{label:"Orange",value:"Orange"}],xe=[{label:"Apple",value:"Apple"},{label:"Pear",value:"Pear"},{label:"Orange",value:"Orange",disabled:!1}],he=()=>c.jsxs(c.Fragment,{children:[c.jsx(v.Group,{options:Ce,defaultValue:["Apple"],onChange:M}),c.jsx("br",{}),c.jsx("br",{}),c.jsx(v.Group,{options:me,defaultValue:["Pear"],onChange:M}),c.jsx("br",{}),c.jsx("br",{}),c.jsx(v.Group,{options:xe,disabled:!0,defaultValue:["Apple"],onChange:M})]});function Oe(){return c.jsx(ae,{title:"Checkbox",items:{CheckAll:be,Group:he}})}export{Oe as default};
