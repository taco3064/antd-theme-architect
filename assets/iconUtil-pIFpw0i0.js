import{r as u,G as W,aw as Me,F as ct,L as U,h as ut,c as q,Z as Ae,x as Ct,o as St,_ as G,U as m,N as _e,b as ft,m as gt,a2 as Nt,f as vt,a3 as Kt,d as ee,a1 as ht,cf as Et,e as $t,i as Dt,I as He,H as L,ax as mt,av as Re,X as Ve,c6 as wt,cg as kt,ch as Ot,ay as Rt,az as Pt,ci as R,A as De,K as Mt,aX as It,bg as Tt,z as Xe}from"./index-Dm6B6Atr.js";import{g as J,d as F,e as Pe,h as yt,f as Ge,c as je,i as ze,b as Lt,a as At}from"./conductUtil-ByydgWQR.js";import{g as _t}from"./index-C9AUWNB9.js";var Ye=function(t,o){if(!t)return null;var e={left:t.offsetLeft,right:t.parentElement.clientWidth-t.clientWidth-t.offsetLeft,width:t.clientWidth,top:t.offsetTop,bottom:t.parentElement.clientHeight-t.clientHeight-t.offsetTop,height:t.clientHeight};return o?{left:0,right:0,width:0,top:e.top,bottom:e.bottom,height:e.height}:{left:e.left,right:e.right,width:e.width,top:0,bottom:0,height:0}},de=function(t){return t!==void 0?"".concat(t,"px"):void 0};function Ht(n){var t=n.prefixCls,o=n.containerRef,e=n.value,d=n.getValueIndex,s=n.motionName,x=n.onMotionStart,a=n.onMotionEnd,l=n.direction,r=n.vertical,c=r===void 0?!1:r,v=u.useRef(null),p=u.useState(e),y=W(p,2),b=y[0],S=y[1],f=function(P){var _,j=d(P),V=(_=o.current)===null||_===void 0?void 0:_.querySelectorAll(".".concat(t,"-item"))[j];return(V==null?void 0:V.offsetParent)&&V},h=u.useState(null),N=W(h,2),g=N[0],C=N[1],w=u.useState(null),$=W(w,2),K=$[0],i=$[1];Me(function(){if(b!==e){var D=f(b),P=f(e),_=Ye(D,c),j=Ye(P,c);S(e),C(_),i(j),D&&P?x():a()}},[e]);var k=u.useMemo(function(){if(c){var D;return de((D=g==null?void 0:g.top)!==null&&D!==void 0?D:0)}return de(l==="rtl"?-(g==null?void 0:g.right):g==null?void 0:g.left)},[c,l,g]),O=u.useMemo(function(){if(c){var D;return de((D=K==null?void 0:K.top)!==null&&D!==void 0?D:0)}return de(l==="rtl"?-(K==null?void 0:K.right):K==null?void 0:K.left)},[c,l,K]),I=function(){return c?{transform:"translateY(var(--thumb-start-top))",height:"var(--thumb-start-height)"}:{transform:"translateX(var(--thumb-start-left))",width:"var(--thumb-start-width)"}},T=function(){return c?{transform:"translateY(var(--thumb-active-top))",height:"var(--thumb-active-height)"}:{transform:"translateX(var(--thumb-active-left))",width:"var(--thumb-active-width)"}},A=function(){C(null),i(null),a()};return!g||!K?null:u.createElement(ct,{visible:!0,motionName:s,motionAppear:!0,onAppearStart:I,onAppearActive:T,onVisibleChanged:A},function(D,P){var _=D.className,j=D.style,V=U(U({},j),{},{"--thumb-start-left":k,"--thumb-start-width":de(g==null?void 0:g.width),"--thumb-active-left":O,"--thumb-active-width":de(K==null?void 0:K.width),"--thumb-start-top":k,"--thumb-start-height":de(g==null?void 0:g.height),"--thumb-active-top":O,"--thumb-active-height":de(K==null?void 0:K.height)}),le={ref:ut(v,P),style:V,className:q("".concat(t,"-thumb"),_)};return u.createElement("div",le)})}var Bt=["prefixCls","direction","vertical","options","disabled","defaultValue","value","name","onChange","className","motionName"];function jt(n){if(typeof n.title<"u")return n.title;if(_e(n.label)!=="object"){var t;return(t=n.label)===null||t===void 0?void 0:t.toString()}}function zt(n){return n.map(function(t){if(_e(t)==="object"&&t!==null){var o=jt(t);return U(U({},t),{},{title:o})}return{label:t==null?void 0:t.toString(),title:t==null?void 0:t.toString(),value:t}})}var Ft=function(t){var o=t.prefixCls,e=t.className,d=t.disabled,s=t.checked,x=t.label,a=t.title,l=t.value,r=t.name,c=t.onChange,v=t.onFocus,p=t.onBlur,y=t.onKeyDown,b=t.onKeyUp,S=t.onMouseDown,f=function(N){d||c(N,l)};return u.createElement("label",{className:q(e,m({},"".concat(o,"-item-disabled"),d)),onMouseDown:S},u.createElement("input",{name:r,className:"".concat(o,"-item-input"),type:"radio",disabled:d,checked:s,onChange:f,onFocus:v,onBlur:p,onKeyDown:y,onKeyUp:b}),u.createElement("div",{className:"".concat(o,"-item-label"),title:a,"aria-selected":s},x))},Vt=u.forwardRef(function(n,t){var o,e,d=n.prefixCls,s=d===void 0?"rc-segmented":d,x=n.direction,a=n.vertical,l=n.options,r=l===void 0?[]:l,c=n.disabled,v=n.defaultValue,p=n.value,y=n.name,b=n.onChange,S=n.className,f=S===void 0?"":S,h=n.motionName,N=h===void 0?"thumb-motion":h,g=Ae(n,Bt),C=u.useRef(null),w=u.useMemo(function(){return ut(C,t)},[C,t]),$=u.useMemo(function(){return zt(r)},[r]),K=Ct((o=$[0])===null||o===void 0?void 0:o.value,{value:p,defaultValue:v}),i=W(K,2),k=i[0],O=i[1],I=u.useState(!1),T=W(I,2),A=T[0],D=T[1],P=function(z,Z){O(Z),b==null||b(Z)},_=St(g,["children"]),j=u.useState(!1),V=W(j,2),le=V[0],se=V[1],fe=u.useState(!1),te=W(fe,2),Y=te[0],ne=te[1],X=function(){ne(!0)},ge=function(){ne(!1)},ye=function(){se(!1)},ae=function(z){z.key==="Tab"&&se(!0)},ve=function(z){var Z=$.findIndex(function(Ne){return Ne.value===k}),Q=$.length,we=(Z+z+Q)%Q,re=$[we];re&&(O(re.value),b==null||b(re.value))},he=function(z){switch(z.key){case"ArrowLeft":case"ArrowUp":ve(-1);break;case"ArrowRight":case"ArrowDown":ve(1);break}};return u.createElement("div",G({role:"radiogroup","aria-label":"segmented control",tabIndex:c?void 0:0},_,{className:q(s,(e={},m(e,"".concat(s,"-rtl"),x==="rtl"),m(e,"".concat(s,"-disabled"),c),m(e,"".concat(s,"-vertical"),a),e),f),ref:w}),u.createElement("div",{className:"".concat(s,"-group")},u.createElement(Ht,{vertical:a,prefixCls:s,value:k,containerRef:C,motionName:"".concat(s,"-").concat(N),direction:x,getValueIndex:function(z){return $.findIndex(function(Z){return Z.value===z})},onMotionStart:function(){D(!0)},onMotionEnd:function(){D(!1)}}),$.map(function(H){var z;return u.createElement(Ft,G({},H,{name:y,key:H.value,prefixCls:s,className:q(H.className,"".concat(s,"-item"),(z={},m(z,"".concat(s,"-item-selected"),H.value===k&&!A),m(z,"".concat(s,"-item-focused"),Y&&le&&H.value===k),z)),checked:H.value===k,onChange:P,onFocus:X,onBlur:ge,onKeyDown:he,onKeyUp:ae,onMouseDown:ye,disabled:!!c||!!H.disabled}))})))}),qt=Vt;function Ze(n,t){return{[`${n}, ${n}:hover, ${n}:focus`]:{color:t.colorTextDisabled,cursor:"not-allowed"}}}function Qe(n){return{backgroundColor:n.itemSelectedBg,boxShadow:n.boxShadowTertiary}}const Ut=Object.assign({overflow:"hidden"},Nt),Wt=n=>{const{componentCls:t}=n,o=n.calc(n.controlHeight).sub(n.calc(n.trackPadding).mul(2)).equal(),e=n.calc(n.controlHeightLG).sub(n.calc(n.trackPadding).mul(2)).equal(),d=n.calc(n.controlHeightSM).sub(n.calc(n.trackPadding).mul(2)).equal();return{[t]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},vt(n)),{display:"inline-block",padding:n.trackPadding,color:n.itemColor,background:n.trackBg,borderRadius:n.borderRadius,transition:`all ${n.motionDurationMid} ${n.motionEaseInOut}`}),Kt(n)),{[`${t}-group`]:{position:"relative",display:"flex",alignItems:"stretch",justifyItems:"flex-start",flexDirection:"row",width:"100%"},[`&${t}-rtl`]:{direction:"rtl"},[`&${t}-vertical`]:{[`${t}-group`]:{flexDirection:"column"},[`${t}-thumb`]:{width:"100%",height:0,padding:`0 ${ee(n.paddingXXS)}`}},[`&${t}-block`]:{display:"flex"},[`&${t}-block ${t}-item`]:{flex:1,minWidth:0},[`${t}-item`]:{position:"relative",textAlign:"center",cursor:"pointer",transition:`color ${n.motionDurationMid} ${n.motionEaseInOut}`,borderRadius:n.borderRadiusSM,transform:"translateZ(0)","&-selected":Object.assign(Object.assign({},Qe(n)),{color:n.itemSelectedColor}),"&-focused":Object.assign({},ht(n)),"&::after":{content:'""',position:"absolute",zIndex:-1,width:"100%",height:"100%",top:0,insetInlineStart:0,borderRadius:"inherit",opacity:0,transition:`opacity ${n.motionDurationMid}`,pointerEvents:"none"},[`&:hover:not(${t}-item-selected):not(${t}-item-disabled)`]:{color:n.itemHoverColor,"&::after":{opacity:1,backgroundColor:n.itemHoverBg}},[`&:active:not(${t}-item-selected):not(${t}-item-disabled)`]:{color:n.itemHoverColor,"&::after":{opacity:1,backgroundColor:n.itemActiveBg}},"&-label":Object.assign({minHeight:o,lineHeight:ee(o),padding:`0 ${ee(n.segmentedPaddingHorizontal)}`},Ut),"&-icon + *":{marginInlineStart:n.calc(n.marginSM).div(2).equal()},"&-input":{position:"absolute",insetBlockStart:0,insetInlineStart:0,width:0,height:0,opacity:0,pointerEvents:"none"}},[`${t}-thumb`]:Object.assign(Object.assign({},Qe(n)),{position:"absolute",insetBlockStart:0,insetInlineStart:0,width:0,height:"100%",padding:`${ee(n.paddingXXS)} 0`,borderRadius:n.borderRadiusSM,transition:`transform ${n.motionDurationSlow} ${n.motionEaseInOut}, height ${n.motionDurationSlow} ${n.motionEaseInOut}`,[`& ~ ${t}-item:not(${t}-item-selected):not(${t}-item-disabled)::after`]:{backgroundColor:"transparent"}}),[`&${t}-lg`]:{borderRadius:n.borderRadiusLG,[`${t}-item-label`]:{minHeight:e,lineHeight:ee(e),padding:`0 ${ee(n.segmentedPaddingHorizontal)}`,fontSize:n.fontSizeLG},[`${t}-item, ${t}-thumb`]:{borderRadius:n.borderRadius}},[`&${t}-sm`]:{borderRadius:n.borderRadiusSM,[`${t}-item-label`]:{minHeight:d,lineHeight:ee(d),padding:`0 ${ee(n.segmentedPaddingHorizontalSM)}`},[`${t}-item, ${t}-thumb`]:{borderRadius:n.borderRadiusXS}}}),Ze(`&-disabled ${t}-item`,n)),Ze(`${t}-item-disabled`,n)),{[`${t}-thumb-motion-appear-active`]:{transition:`transform ${n.motionDurationSlow} ${n.motionEaseInOut}, width ${n.motionDurationSlow} ${n.motionEaseInOut}`,willChange:"transform, width"},[`&${t}-shape-round`]:{borderRadius:9999,[`${t}-item, ${t}-thumb`]:{borderRadius:9999}}})}},Xt=n=>{const{colorTextLabel:t,colorText:o,colorFillSecondary:e,colorBgElevated:d,colorFill:s,lineWidthBold:x,colorBgLayout:a}=n;return{trackPadding:x,trackBg:a,itemColor:t,itemHoverColor:o,itemHoverBg:e,itemSelectedBg:d,itemActiveBg:s,itemSelectedColor:o}},Gt=ft("Segmented",n=>{const{lineWidth:t,calc:o}=n,e=gt(n,{segmentedPaddingHorizontal:o(n.controlPaddingHorizontal).sub(t).equal(),segmentedPaddingHorizontalSM:o(n.controlPaddingHorizontalSM).sub(t).equal()});return[Wt(e)]},Xt);var Je=function(n,t){var o={};for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&t.indexOf(e)<0&&(o[e]=n[e]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var d=0,e=Object.getOwnPropertySymbols(n);d<e.length;d++)t.indexOf(e[d])<0&&Object.prototype.propertyIsEnumerable.call(n,e[d])&&(o[e[d]]=n[e[d]]);return o};function Yt(n){return typeof n=="object"&&!!(n!=null&&n.icon)}const Zt=u.forwardRef((n,t)=>{const o=Et(),{prefixCls:e,className:d,rootClassName:s,block:x,options:a=[],size:l="middle",style:r,vertical:c,shape:v="default",name:p=o}=n,y=Je(n,["prefixCls","className","rootClassName","block","options","size","style","vertical","shape","name"]),{getPrefixCls:b,direction:S,className:f,style:h}=$t("segmented"),N=b("segmented",e),[g,C,w]=Gt(N),$=Dt(l),K=u.useMemo(()=>a.map(O=>{if(Yt(O)){const{icon:I,label:T}=O,A=Je(O,["icon","label"]);return Object.assign(Object.assign({},A),{label:u.createElement(u.Fragment,null,u.createElement("span",{className:`${N}-item-icon`},I),T&&u.createElement("span",null,T))})}return O}),[a,N]),i=q(d,s,f,{[`${N}-block`]:x,[`${N}-sm`]:$==="small",[`${N}-lg`]:$==="large",[`${N}-vertical`]:c,[`${N}-shape-${v}`]:v==="round"},C,w),k=Object.assign(Object.assign({},h),r);return g(u.createElement(qt,Object.assign({},y,{name:p,className:i,style:k,options:K,ref:t,prefixCls:N,direction:S,vertical:c})))}),Bn=Zt;var Qt={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"filled"},Jt=function(t,o){return u.createElement(He,G({},t,{ref:o,icon:Qt}))},en=u.forwardRef(Jt),tn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494z"}}]},name:"file",theme:"outlined"},nn=function(t,o){return u.createElement(He,G({},t,{ref:o,icon:tn}))},an=u.forwardRef(nn),rn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"minus-square",theme:"outlined"},on=function(t,o){return u.createElement(He,G({},t,{ref:o,icon:rn}))},dn=u.forwardRef(on),ln={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"plus-square",theme:"outlined"},sn=function(t,o){return u.createElement(He,G({},t,{ref:o,icon:ln}))},cn=u.forwardRef(sn),Ue=u.createContext(null),un=u.createContext({}),fn=function(t){for(var o=t.prefixCls,e=t.level,d=t.isStart,s=t.isEnd,x="".concat(o,"-indent-unit"),a=[],l=0;l<e;l+=1)a.push(u.createElement("span",{key:l,className:q(x,m(m({},"".concat(x,"-start"),d[l]),"".concat(x,"-end"),s[l]))}));return u.createElement("span",{"aria-hidden":"true",className:"".concat(o,"-indent")},a)};const gn=u.memo(fn);var vn=["eventKey","className","style","dragOver","dragOverGapTop","dragOverGapBottom","isLeaf","isStart","isEnd","expanded","selected","checked","halfChecked","loading","domRef","active","data","onMouseMove","selectable"],et="open",tt="close",hn="---",Le=function(t){var o,e,d=t.eventKey,s=t.className,x=t.style,a=t.dragOver,l=t.dragOverGapTop,r=t.dragOverGapBottom,c=t.isLeaf,v=t.isStart,p=t.isEnd,y=t.expanded,b=t.selected,S=t.checked,f=t.halfChecked,h=t.loading,N=t.domRef,g=t.active,C=t.data,w=t.onMouseMove,$=t.selectable,K=Ae(t,vn),i=L.useContext(Ue),k=L.useContext(un),O=L.useRef(null),I=L.useState(!1),T=W(I,2),A=T[0],D=T[1],P=L.useMemo(function(){var M;return!!(i.disabled||t.disabled||(M=k.nodeDisabled)!==null&&M!==void 0&&M.call(k,C))},[i.disabled,t.disabled,k.nodeDisabled,C]),_=L.useMemo(function(){return!i.checkable||t.checkable===!1?!1:i.checkable},[i.checkable,t.checkable]),j=function(E){P||i.onNodeSelect(E,F(t))},V=function(E){P||!_||t.disableCheckbox||i.onNodeCheck(E,F(t),!S)},le=L.useMemo(function(){return typeof $=="boolean"?$:i.selectable},[$,i.selectable]),se=function(E){i.onNodeClick(E,F(t)),le?j(E):V(E)},fe=function(E){i.onNodeDoubleClick(E,F(t))},te=function(E){i.onNodeMouseEnter(E,F(t))},Y=function(E){i.onNodeMouseLeave(E,F(t))},ne=function(E){i.onNodeContextMenu(E,F(t))},X=L.useMemo(function(){return!!(i.draggable&&(!i.draggable.nodeDraggable||i.draggable.nodeDraggable(C)))},[i.draggable,C]),ge=function(E){E.stopPropagation(),D(!0),i.onNodeDragStart(E,t);try{E.dataTransfer.setData("text/plain","")}catch{}},ye=function(E){E.preventDefault(),E.stopPropagation(),i.onNodeDragEnter(E,t)},ae=function(E){E.preventDefault(),E.stopPropagation(),i.onNodeDragOver(E,t)},ve=function(E){E.stopPropagation(),i.onNodeDragLeave(E,t)},he=function(E){E.stopPropagation(),D(!1),i.onNodeDragEnd(E,t)},H=function(E){E.preventDefault(),E.stopPropagation(),D(!1),i.onNodeDrop(E,t)},z=function(E){h||i.onNodeExpand(E,F(t))},Z=L.useMemo(function(){var M=J(i.keyEntities,d)||{},E=M.children;return!!(E||[]).length},[i.keyEntities,d]),Q=L.useMemo(function(){return c===!1?!1:c||!i.loadData&&!Z||i.loadData&&t.loaded&&!Z},[c,i.loadData,Z,t.loaded]);L.useEffect(function(){h||typeof i.loadData=="function"&&y&&!Q&&!t.loaded&&i.onNodeLoad(F(t))},[h,i.loadData,i.onNodeLoad,y,Q,t]);var we=L.useMemo(function(){var M;return(M=i.draggable)!==null&&M!==void 0&&M.icon?L.createElement("span",{className:"".concat(i.prefixCls,"-draggable-icon")},i.draggable.icon):null},[i.draggable]),re=function(E){var ie=t.switcherIcon||i.switcherIcon;return typeof ie=="function"?ie(U(U({},t),{},{isLeaf:E})):ie},Ne=function(){if(Q){var E=re(!0);return E!==!1?L.createElement("span",{className:q("".concat(i.prefixCls,"-switcher"),"".concat(i.prefixCls,"-switcher-noop"))},E):null}var ie=re(!1);return ie!==!1?L.createElement("span",{onClick:z,className:q("".concat(i.prefixCls,"-switcher"),"".concat(i.prefixCls,"-switcher_").concat(y?et:tt))},ie):null},ke=L.useMemo(function(){if(!_)return null;var M=typeof _!="boolean"?_:null;return L.createElement("span",{className:q("".concat(i.prefixCls,"-checkbox"),m(m(m({},"".concat(i.prefixCls,"-checkbox-checked"),S),"".concat(i.prefixCls,"-checkbox-indeterminate"),!S&&f),"".concat(i.prefixCls,"-checkbox-disabled"),P||t.disableCheckbox)),onClick:V,role:"checkbox","aria-checked":f?"mixed":S,"aria-disabled":P||t.disableCheckbox,"aria-label":"Select ".concat(typeof t.title=="string"?t.title:"tree node")},M)},[_,S,f,P,t.disableCheckbox,t.title]),Ke=L.useMemo(function(){return Q?null:y?et:tt},[Q,y]),Ee=L.useMemo(function(){return L.createElement("span",{className:q("".concat(i.prefixCls,"-iconEle"),"".concat(i.prefixCls,"-icon__").concat(Ke||"docu"),m({},"".concat(i.prefixCls,"-icon_loading"),h))})},[i.prefixCls,Ke,h]),B=L.useMemo(function(){var M=!!i.draggable,E=!t.disabled&&M&&i.dragOverNodeKey===d;return E?i.dropIndicatorRender({dropPosition:i.dropPosition,dropLevelOffset:i.dropLevelOffset,indent:i.indent,prefixCls:i.prefixCls,direction:i.direction}):null},[i.dropPosition,i.dropLevelOffset,i.indent,i.prefixCls,i.direction,i.draggable,i.dragOverNodeKey,i.dropIndicatorRender]),oe=L.useMemo(function(){var M=t.title,E=M===void 0?hn:M,ie="".concat(i.prefixCls,"-node-content-wrapper"),Be;if(i.showIcon){var Ie=t.icon||i.icon;Be=Ie?L.createElement("span",{className:q("".concat(i.prefixCls,"-iconEle"),"".concat(i.prefixCls,"-icon__customize"))},typeof Ie=="function"?Ie(t):Ie):Ee}else i.loadData&&h&&(Be=Ee);var Te;return typeof E=="function"?Te=E(C):i.titleRender?Te=i.titleRender(C):Te=E,L.createElement("span",{ref:O,title:typeof E=="string"?E:"",className:q(ie,"".concat(ie,"-").concat(Ke||"normal"),m({},"".concat(i.prefixCls,"-node-selected"),!P&&(b||A))),onMouseEnter:te,onMouseLeave:Y,onContextMenu:ne,onClick:se,onDoubleClick:fe},Be,L.createElement("span",{className:"".concat(i.prefixCls,"-title")},Te),B)},[i.prefixCls,i.showIcon,t,i.icon,Ee,i.titleRender,C,Ke,te,Y,ne,se,fe]),ce=mt(K,{aria:!0,data:!0}),$e=J(i.keyEntities,d)||{},pe=$e.level,Oe=p[p.length-1],be=!P&&X,xe=i.draggingNodeKey===d,Ce=$!==void 0?{"aria-selected":!!$}:void 0;return L.createElement("div",G({ref:N,role:"treeitem","aria-expanded":c?void 0:y,className:q(s,"".concat(i.prefixCls,"-treenode"),(e={},m(m(m(m(m(m(m(m(m(m(e,"".concat(i.prefixCls,"-treenode-disabled"),P),"".concat(i.prefixCls,"-treenode-switcher-").concat(y?"open":"close"),!c),"".concat(i.prefixCls,"-treenode-checkbox-checked"),S),"".concat(i.prefixCls,"-treenode-checkbox-indeterminate"),f),"".concat(i.prefixCls,"-treenode-selected"),b),"".concat(i.prefixCls,"-treenode-loading"),h),"".concat(i.prefixCls,"-treenode-active"),g),"".concat(i.prefixCls,"-treenode-leaf-last"),Oe),"".concat(i.prefixCls,"-treenode-draggable"),X),"dragging",xe),m(m(m(m(m(m(m(e,"drop-target",i.dropTargetKey===d),"drop-container",i.dropContainerKey===d),"drag-over",!P&&a),"drag-over-gap-top",!P&&l),"drag-over-gap-bottom",!P&&r),"filter-node",(o=i.filterTreeNode)===null||o===void 0?void 0:o.call(i,F(t))),"".concat(i.prefixCls,"-treenode-leaf"),Q))),style:x,draggable:be,onDragStart:be?ge:void 0,onDragEnter:X?ye:void 0,onDragOver:X?ae:void 0,onDragLeave:X?ve:void 0,onDrop:X?H:void 0,onDragEnd:X?he:void 0,onMouseMove:w},Ce,ce),L.createElement(gn,{prefixCls:i.prefixCls,level:pe,isStart:v,isEnd:p}),we,Ne(),ke,oe)};Le.isTreeNode=1;function ue(n,t){if(!n)return[];var o=n.slice(),e=o.indexOf(t);return e>=0&&o.splice(e,1),o}function me(n,t){var o=(n||[]).slice();return o.indexOf(t)===-1&&o.push(t),o}function We(n){return n.split("-")}function mn(n,t){var o=[],e=J(t,n);function d(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];s.forEach(function(x){var a=x.key,l=x.children;o.push(a),d(l)})}return d(e.children),o}function yn(n){if(n.parent){var t=We(n.pos);return Number(t[t.length-1])===n.parent.children.length-1}return!1}function pn(n){var t=We(n.pos);return Number(t[t.length-1])===0}function nt(n,t,o,e,d,s,x,a,l,r){var c,v=n.clientX,p=n.clientY,y=n.target.getBoundingClientRect(),b=y.top,S=y.height,f=(r==="rtl"?-1:1)*(((d==null?void 0:d.x)||0)-v),h=(f-12)/e,N=l.filter(function(_){var j;return(j=a[_])===null||j===void 0||(j=j.children)===null||j===void 0?void 0:j.length}),g=J(a,o.eventKey);if(p<b+S/2){var C=x.findIndex(function(_){return _.key===g.key}),w=C<=0?0:C-1,$=x[w].key;g=J(a,$)}var K=g.key,i=g,k=g.key,O=0,I=0;if(!N.includes(K))for(var T=0;T<h&&yn(g);T+=1)g=g.parent,I+=1;var A=t.data,D=g.node,P=!0;return pn(g)&&g.level===0&&p<b+S/2&&s({dragNode:A,dropNode:D,dropPosition:-1})&&g.key===o.eventKey?O=-1:(i.children||[]).length&&N.includes(k)?s({dragNode:A,dropNode:D,dropPosition:0})?O=0:P=!1:I===0?h>-1.5?s({dragNode:A,dropNode:D,dropPosition:1})?O=1:P=!1:s({dragNode:A,dropNode:D,dropPosition:0})?O=0:s({dragNode:A,dropNode:D,dropPosition:1})?O=1:P=!1:s({dragNode:A,dropNode:D,dropPosition:1})?O=1:P=!1,{dropPosition:O,dropLevelOffset:I,dropTargetKey:g.key,dropTargetPos:g.pos,dragOverNodeKey:k,dropContainerKey:O===0?null:((c=g.parent)===null||c===void 0?void 0:c.key)||null,dropAllowed:P}}function at(n,t){if(n){var o=t.multiple;return o?n.slice():n.length?[n[0]]:n}}function Fe(n){if(!n)return null;var t;if(Array.isArray(n))t={checkedKeys:n,halfCheckedKeys:void 0};else if(_e(n)==="object")t={checkedKeys:n.checked||void 0,halfCheckedKeys:n.halfChecked||void 0};else return Re(!1,"`checkedKeys` is not an array or an object"),null;return t}function rt(n,t){var o=new Set;function e(d){if(!o.has(d)){var s=J(t,d);if(s){o.add(d);var x=s.parent,a=s.node;a.disabled||x&&e(x.key)}}}return(n||[]).forEach(function(d){e(d)}),Ve(o)}var bn=function(t){var o=t.dropPosition,e=t.dropLevelOffset,d=t.indent,s={pointerEvents:"none",position:"absolute",right:0,backgroundColor:"red",height:2};switch(o){case-1:s.top=0,s.left=-e*d;break;case 1:s.bottom=0,s.left=-e*d;break;case 0:s.bottom=0,s.left=d;break}return L.createElement("div",{style:s})};function pt(n){if(n==null)throw new TypeError("Cannot destructure "+n)}function xn(n,t){var o=u.useState(!1),e=W(o,2),d=e[0],s=e[1];Me(function(){if(d)return n(),function(){t()}},[d]),Me(function(){return s(!0),function(){s(!1)}},[])}var Cn=["className","style","motion","motionNodes","motionType","onMotionStart","onMotionEnd","active","treeNodeRequiredProps"],Sn=u.forwardRef(function(n,t){var o=n.className,e=n.style,d=n.motion,s=n.motionNodes,x=n.motionType,a=n.onMotionStart,l=n.onMotionEnd,r=n.active,c=n.treeNodeRequiredProps,v=Ae(n,Cn),p=u.useState(!0),y=W(p,2),b=y[0],S=y[1],f=u.useContext(Ue),h=f.prefixCls,N=s&&x!=="hide";Me(function(){s&&N!==b&&S(N)},[s]);var g=function(){s&&a()},C=u.useRef(!1),w=function(){s&&!C.current&&(C.current=!0,l())};xn(g,w);var $=function(i){N===i&&w()};return s?u.createElement(ct,G({ref:t,visible:b},d,{motionAppear:x==="show",onVisibleChanged:$}),function(K,i){var k=K.className,O=K.style;return u.createElement("div",{ref:i,className:q("".concat(h,"-treenode-motion"),k),style:O},s.map(function(I){var T=Object.assign({},(pt(I.data),I.data)),A=I.title,D=I.key,P=I.isStart,_=I.isEnd;delete T.children;var j=Pe(D,c);return u.createElement(Le,G({},T,j,{title:A,active:r,data:I.data,key:D,isStart:P,isEnd:_}))}))}):u.createElement(Le,G({domRef:t,className:o,style:e},v,{active:r}))});function Nn(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],o=n.length,e=t.length;if(Math.abs(o-e)!==1)return{add:!1,key:null};function d(s,x){var a=new Map;s.forEach(function(r){a.set(r,!0)});var l=x.filter(function(r){return!a.has(r)});return l.length===1?l[0]:null}return o<e?{add:!0,key:d(n,t)}:{add:!1,key:d(t,n)}}function ot(n,t,o){var e=n.findIndex(function(a){return a.key===o}),d=n[e+1],s=t.findIndex(function(a){return a.key===o});if(d){var x=t.findIndex(function(a){return a.key===d.key});return t.slice(s+1,x)}return t.slice(s+1)}var Kn=["prefixCls","data","selectable","checkable","expandedKeys","selectedKeys","checkedKeys","loadedKeys","loadingKeys","halfCheckedKeys","keyEntities","disabled","dragging","dragOverNodeKey","dropPosition","motion","height","itemHeight","virtual","scrollWidth","focusable","activeItem","focused","tabIndex","onKeyDown","onFocus","onBlur","onActiveChange","onListChangeStart","onListChangeEnd"],it={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},En=function(){},Se="RC_TREE_MOTION_".concat(Math.random()),qe={key:Se},bt={key:Se,level:0,index:0,pos:"0",node:qe,nodes:[qe]},dt={parent:null,children:[],pos:bt.pos,data:qe,title:null,key:Se,isStart:[],isEnd:[]};function lt(n,t,o,e){return t===!1||!o?n:n.slice(0,Math.ceil(o/e)+1)}function st(n){var t=n.key,o=n.pos;return yt(t,o)}function $n(n){for(var t=String(n.data.key),o=n;o.parent;)o=o.parent,t="".concat(o.data.key," > ").concat(t);return t}var Dn=u.forwardRef(function(n,t){var o=n.prefixCls,e=n.data;n.selectable,n.checkable;var d=n.expandedKeys,s=n.selectedKeys,x=n.checkedKeys,a=n.loadedKeys,l=n.loadingKeys,r=n.halfCheckedKeys,c=n.keyEntities,v=n.disabled,p=n.dragging,y=n.dragOverNodeKey,b=n.dropPosition,S=n.motion,f=n.height,h=n.itemHeight,N=n.virtual,g=n.scrollWidth,C=n.focusable,w=n.activeItem,$=n.focused,K=n.tabIndex,i=n.onKeyDown,k=n.onFocus,O=n.onBlur,I=n.onActiveChange,T=n.onListChangeStart,A=n.onListChangeEnd,D=Ae(n,Kn),P=u.useRef(null),_=u.useRef(null);u.useImperativeHandle(t,function(){return{scrollTo:function(oe){P.current.scrollTo(oe)},getIndentWidth:function(){return _.current.offsetWidth}}});var j=u.useState(d),V=W(j,2),le=V[0],se=V[1],fe=u.useState(e),te=W(fe,2),Y=te[0],ne=te[1],X=u.useState(e),ge=W(X,2),ye=ge[0],ae=ge[1],ve=u.useState([]),he=W(ve,2),H=he[0],z=he[1],Z=u.useState(null),Q=W(Z,2),we=Q[0],re=Q[1],Ne=u.useRef(e);Ne.current=e;function ke(){var B=Ne.current;ne(B),ae(B),z([]),re(null),A()}Me(function(){se(d);var B=Nn(le,d);if(B.key!==null)if(B.add){var oe=Y.findIndex(function(xe){var Ce=xe.key;return Ce===B.key}),ce=lt(ot(Y,e,B.key),N,f,h),$e=Y.slice();$e.splice(oe+1,0,dt),ae($e),z(ce),re("show")}else{var pe=e.findIndex(function(xe){var Ce=xe.key;return Ce===B.key}),Oe=lt(ot(e,Y,B.key),N,f,h),be=e.slice();be.splice(pe+1,0,dt),ae(be),z(Oe),re("hide")}else Y!==e&&(ne(e),ae(e))},[d,e]),u.useEffect(function(){p||ke()},[p]);var Ke=S?ye:e,Ee={expandedKeys:d,selectedKeys:s,loadedKeys:a,loadingKeys:l,checkedKeys:x,halfCheckedKeys:r,dragOverNodeKey:y,dropPosition:b,keyEntities:c};return u.createElement(u.Fragment,null,$&&w&&u.createElement("span",{style:it,"aria-live":"assertive"},$n(w)),u.createElement("div",null,u.createElement("input",{style:it,disabled:C===!1||v,tabIndex:C!==!1?K:null,onKeyDown:i,onFocus:k,onBlur:O,value:"",onChange:En,"aria-label":"for screen reader"})),u.createElement("div",{className:"".concat(o,"-treenode"),"aria-hidden":!0,style:{position:"absolute",pointerEvents:"none",visibility:"hidden",height:0,overflow:"hidden",border:0,padding:0}},u.createElement("div",{className:"".concat(o,"-indent")},u.createElement("div",{ref:_,className:"".concat(o,"-indent-unit")}))),u.createElement(wt,G({},D,{data:Ke,itemKey:st,height:f,fullHeight:!1,virtual:N,itemHeight:h,scrollWidth:g,prefixCls:"".concat(o,"-list"),ref:P,role:"tree",onVisibleChange:function(oe){oe.every(function(ce){return st(ce)!==Se})&&ke()}}),function(B){var oe=B.pos,ce=Object.assign({},(pt(B.data),B.data)),$e=B.title,pe=B.key,Oe=B.isStart,be=B.isEnd,xe=yt(pe,oe);delete ce.key,delete ce.children;var Ce=Pe(xe,Ee);return u.createElement(Sn,G({},ce,Ce,{title:$e,active:!!w&&pe===w.key,pos:oe,data:B.data,isStart:Oe,isEnd:be,motion:S,motionNodes:pe===Se?H:null,motionType:we,onMotionStart:T,onMotionEnd:ke,treeNodeRequiredProps:Ee,onMouseMove:function(){I(null)}}))}))}),wn=10,xt=function(n){kt(o,n);var t=Ot(o);function o(){var e;Pt(this,o);for(var d=arguments.length,s=new Array(d),x=0;x<d;x++)s[x]=arguments[x];return e=t.call.apply(t,[this].concat(s)),m(R(e),"destroyed",!1),m(R(e),"delayedDragEnterLogic",void 0),m(R(e),"loadingRetryTimes",{}),m(R(e),"state",{keyEntities:{},indent:null,selectedKeys:[],checkedKeys:[],halfCheckedKeys:[],loadedKeys:[],loadingKeys:[],expandedKeys:[],draggingNodeKey:null,dragChildrenKeys:[],dropTargetKey:null,dropPosition:null,dropContainerKey:null,dropLevelOffset:null,dropTargetPos:null,dropAllowed:!0,dragOverNodeKey:null,treeData:[],flattenNodes:[],focused:!1,activeKey:null,listChanging:!1,prevProps:null,fieldNames:Ge()}),m(R(e),"dragStartMousePosition",null),m(R(e),"dragNodeProps",null),m(R(e),"currentMouseOverDroppableNodeKey",null),m(R(e),"listRef",u.createRef()),m(R(e),"onNodeDragStart",function(a,l){var r=e.state,c=r.expandedKeys,v=r.keyEntities,p=e.props.onDragStart,y=l.eventKey;e.dragNodeProps=l,e.dragStartMousePosition={x:a.clientX,y:a.clientY};var b=ue(c,y);e.setState({draggingNodeKey:y,dragChildrenKeys:mn(y,v),indent:e.listRef.current.getIndentWidth()}),e.setExpandedKeys(b),window.addEventListener("dragend",e.onWindowDragEnd),p==null||p({event:a,node:F(l)})}),m(R(e),"onNodeDragEnter",function(a,l){var r=e.state,c=r.expandedKeys,v=r.keyEntities,p=r.dragChildrenKeys,y=r.flattenNodes,b=r.indent,S=e.props,f=S.onDragEnter,h=S.onExpand,N=S.allowDrop,g=S.direction,C=l.pos,w=l.eventKey;if(e.currentMouseOverDroppableNodeKey!==w&&(e.currentMouseOverDroppableNodeKey=w),!e.dragNodeProps){e.resetDragState();return}var $=nt(a,e.dragNodeProps,l,b,e.dragStartMousePosition,N,y,v,c,g),K=$.dropPosition,i=$.dropLevelOffset,k=$.dropTargetKey,O=$.dropContainerKey,I=$.dropTargetPos,T=$.dropAllowed,A=$.dragOverNodeKey;if(p.includes(k)||!T){e.resetDragState();return}if(e.delayedDragEnterLogic||(e.delayedDragEnterLogic={}),Object.keys(e.delayedDragEnterLogic).forEach(function(D){clearTimeout(e.delayedDragEnterLogic[D])}),e.dragNodeProps.eventKey!==l.eventKey&&(a.persist(),e.delayedDragEnterLogic[C]=window.setTimeout(function(){if(e.state.draggingNodeKey!==null){var D=Ve(c),P=J(v,l.eventKey);P&&(P.children||[]).length&&(D=me(c,l.eventKey)),e.props.hasOwnProperty("expandedKeys")||e.setExpandedKeys(D),h==null||h(D,{node:F(l),expanded:!0,nativeEvent:a.nativeEvent})}},800)),e.dragNodeProps.eventKey===k&&i===0){e.resetDragState();return}e.setState({dragOverNodeKey:A,dropPosition:K,dropLevelOffset:i,dropTargetKey:k,dropContainerKey:O,dropTargetPos:I,dropAllowed:T}),f==null||f({event:a,node:F(l),expandedKeys:c})}),m(R(e),"onNodeDragOver",function(a,l){var r=e.state,c=r.dragChildrenKeys,v=r.flattenNodes,p=r.keyEntities,y=r.expandedKeys,b=r.indent,S=e.props,f=S.onDragOver,h=S.allowDrop,N=S.direction;if(e.dragNodeProps){var g=nt(a,e.dragNodeProps,l,b,e.dragStartMousePosition,h,v,p,y,N),C=g.dropPosition,w=g.dropLevelOffset,$=g.dropTargetKey,K=g.dropContainerKey,i=g.dropTargetPos,k=g.dropAllowed,O=g.dragOverNodeKey;c.includes($)||!k||(e.dragNodeProps.eventKey===$&&w===0?e.state.dropPosition===null&&e.state.dropLevelOffset===null&&e.state.dropTargetKey===null&&e.state.dropContainerKey===null&&e.state.dropTargetPos===null&&e.state.dropAllowed===!1&&e.state.dragOverNodeKey===null||e.resetDragState():C===e.state.dropPosition&&w===e.state.dropLevelOffset&&$===e.state.dropTargetKey&&K===e.state.dropContainerKey&&i===e.state.dropTargetPos&&k===e.state.dropAllowed&&O===e.state.dragOverNodeKey||e.setState({dropPosition:C,dropLevelOffset:w,dropTargetKey:$,dropContainerKey:K,dropTargetPos:i,dropAllowed:k,dragOverNodeKey:O}),f==null||f({event:a,node:F(l)}))}}),m(R(e),"onNodeDragLeave",function(a,l){e.currentMouseOverDroppableNodeKey===l.eventKey&&!a.currentTarget.contains(a.relatedTarget)&&(e.resetDragState(),e.currentMouseOverDroppableNodeKey=null);var r=e.props.onDragLeave;r==null||r({event:a,node:F(l)})}),m(R(e),"onWindowDragEnd",function(a){e.onNodeDragEnd(a,null,!0),window.removeEventListener("dragend",e.onWindowDragEnd)}),m(R(e),"onNodeDragEnd",function(a,l){var r=e.props.onDragEnd;e.setState({dragOverNodeKey:null}),e.cleanDragState(),r==null||r({event:a,node:F(l)}),e.dragNodeProps=null,window.removeEventListener("dragend",e.onWindowDragEnd)}),m(R(e),"onNodeDrop",function(a,l){var r,c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,v=e.state,p=v.dragChildrenKeys,y=v.dropPosition,b=v.dropTargetKey,S=v.dropTargetPos,f=v.dropAllowed;if(f){var h=e.props.onDrop;if(e.setState({dragOverNodeKey:null}),e.cleanDragState(),b!==null){var N=U(U({},Pe(b,e.getTreeNodeRequiredProps())),{},{active:((r=e.getActiveItem())===null||r===void 0?void 0:r.key)===b,data:J(e.state.keyEntities,b).node}),g=p.includes(b);Re(!g,"Can not drop to dragNode's children node. This is a bug of rc-tree. Please report an issue.");var C=We(S),w={event:a,node:F(N),dragNode:e.dragNodeProps?F(e.dragNodeProps):null,dragNodesKeys:[e.dragNodeProps.eventKey].concat(p),dropToGap:y!==0,dropPosition:y+Number(C[C.length-1])};c||h==null||h(w),e.dragNodeProps=null}}}),m(R(e),"cleanDragState",function(){var a=e.state.draggingNodeKey;a!==null&&e.setState({draggingNodeKey:null,dropPosition:null,dropContainerKey:null,dropTargetKey:null,dropLevelOffset:null,dropAllowed:!0,dragOverNodeKey:null}),e.dragStartMousePosition=null,e.currentMouseOverDroppableNodeKey=null}),m(R(e),"triggerExpandActionExpand",function(a,l){var r=e.state,c=r.expandedKeys,v=r.flattenNodes,p=l.expanded,y=l.key,b=l.isLeaf;if(!(b||a.shiftKey||a.metaKey||a.ctrlKey)){var S=v.filter(function(h){return h.key===y})[0],f=F(U(U({},Pe(y,e.getTreeNodeRequiredProps())),{},{data:S.data}));e.setExpandedKeys(p?ue(c,y):me(c,y)),e.onNodeExpand(a,f)}}),m(R(e),"onNodeClick",function(a,l){var r=e.props,c=r.onClick,v=r.expandAction;v==="click"&&e.triggerExpandActionExpand(a,l),c==null||c(a,l)}),m(R(e),"onNodeDoubleClick",function(a,l){var r=e.props,c=r.onDoubleClick,v=r.expandAction;v==="doubleClick"&&e.triggerExpandActionExpand(a,l),c==null||c(a,l)}),m(R(e),"onNodeSelect",function(a,l){var r=e.state.selectedKeys,c=e.state,v=c.keyEntities,p=c.fieldNames,y=e.props,b=y.onSelect,S=y.multiple,f=l.selected,h=l[p.key],N=!f;N?S?r=me(r,h):r=[h]:r=ue(r,h);var g=r.map(function(C){var w=J(v,C);return w?w.node:null}).filter(Boolean);e.setUncontrolledState({selectedKeys:r}),b==null||b(r,{event:"select",selected:N,node:l,selectedNodes:g,nativeEvent:a.nativeEvent})}),m(R(e),"onNodeCheck",function(a,l,r){var c=e.state,v=c.keyEntities,p=c.checkedKeys,y=c.halfCheckedKeys,b=e.props,S=b.checkStrictly,f=b.onCheck,h=l.key,N,g={event:"check",node:l,checked:r,nativeEvent:a.nativeEvent};if(S){var C=r?me(p,h):ue(p,h),w=ue(y,h);N={checked:C,halfChecked:w},g.checkedNodes=C.map(function(I){return J(v,I)}).filter(Boolean).map(function(I){return I.node}),e.setUncontrolledState({checkedKeys:C})}else{var $=je([].concat(Ve(p),[h]),!0,v),K=$.checkedKeys,i=$.halfCheckedKeys;if(!r){var k=new Set(K);k.delete(h);var O=je(Array.from(k),{checked:!1,halfCheckedKeys:i},v);K=O.checkedKeys,i=O.halfCheckedKeys}N=K,g.checkedNodes=[],g.checkedNodesPositions=[],g.halfCheckedKeys=i,K.forEach(function(I){var T=J(v,I);if(T){var A=T.node,D=T.pos;g.checkedNodes.push(A),g.checkedNodesPositions.push({node:A,pos:D})}}),e.setUncontrolledState({checkedKeys:K},!1,{halfCheckedKeys:i})}f==null||f(N,g)}),m(R(e),"onNodeLoad",function(a){var l,r=a.key,c=e.state.keyEntities,v=J(c,r);if(!(v!=null&&(l=v.children)!==null&&l!==void 0&&l.length)){var p=new Promise(function(y,b){e.setState(function(S){var f=S.loadedKeys,h=f===void 0?[]:f,N=S.loadingKeys,g=N===void 0?[]:N,C=e.props,w=C.loadData,$=C.onLoad;if(!w||h.includes(r)||g.includes(r))return null;var K=w(a);return K.then(function(){var i=e.state.loadedKeys,k=me(i,r);$==null||$(k,{event:"load",node:a}),e.setUncontrolledState({loadedKeys:k}),e.setState(function(O){return{loadingKeys:ue(O.loadingKeys,r)}}),y()}).catch(function(i){if(e.setState(function(O){return{loadingKeys:ue(O.loadingKeys,r)}}),e.loadingRetryTimes[r]=(e.loadingRetryTimes[r]||0)+1,e.loadingRetryTimes[r]>=wn){var k=e.state.loadedKeys;Re(!1,"Retry for `loadData` many times but still failed. No more retry."),e.setUncontrolledState({loadedKeys:me(k,r)}),y()}b(i)}),{loadingKeys:me(g,r)}})});return p.catch(function(){}),p}}),m(R(e),"onNodeMouseEnter",function(a,l){var r=e.props.onMouseEnter;r==null||r({event:a,node:l})}),m(R(e),"onNodeMouseLeave",function(a,l){var r=e.props.onMouseLeave;r==null||r({event:a,node:l})}),m(R(e),"onNodeContextMenu",function(a,l){var r=e.props.onRightClick;r&&(a.preventDefault(),r({event:a,node:l}))}),m(R(e),"onFocus",function(){var a=e.props.onFocus;e.setState({focused:!0});for(var l=arguments.length,r=new Array(l),c=0;c<l;c++)r[c]=arguments[c];a==null||a.apply(void 0,r)}),m(R(e),"onBlur",function(){var a=e.props.onBlur;e.setState({focused:!1}),e.onActiveChange(null);for(var l=arguments.length,r=new Array(l),c=0;c<l;c++)r[c]=arguments[c];a==null||a.apply(void 0,r)}),m(R(e),"getTreeNodeRequiredProps",function(){var a=e.state,l=a.expandedKeys,r=a.selectedKeys,c=a.loadedKeys,v=a.loadingKeys,p=a.checkedKeys,y=a.halfCheckedKeys,b=a.dragOverNodeKey,S=a.dropPosition,f=a.keyEntities;return{expandedKeys:l||[],selectedKeys:r||[],loadedKeys:c||[],loadingKeys:v||[],checkedKeys:p||[],halfCheckedKeys:y||[],dragOverNodeKey:b,dropPosition:S,keyEntities:f}}),m(R(e),"setExpandedKeys",function(a){var l=e.state,r=l.treeData,c=l.fieldNames,v=ze(r,a,c);e.setUncontrolledState({expandedKeys:a,flattenNodes:v},!0)}),m(R(e),"onNodeExpand",function(a,l){var r=e.state.expandedKeys,c=e.state,v=c.listChanging,p=c.fieldNames,y=e.props,b=y.onExpand,S=y.loadData,f=l.expanded,h=l[p.key];if(!v){var N=r.includes(h),g=!f;if(Re(f&&N||!f&&!N,"Expand state not sync with index check"),r=g?me(r,h):ue(r,h),e.setExpandedKeys(r),b==null||b(r,{node:l,expanded:g,nativeEvent:a.nativeEvent}),g&&S){var C=e.onNodeLoad(l);C&&C.then(function(){var w=ze(e.state.treeData,r,p);e.setUncontrolledState({flattenNodes:w})}).catch(function(){var w=e.state.expandedKeys,$=ue(w,h);e.setExpandedKeys($)})}}}),m(R(e),"onListChangeStart",function(){e.setUncontrolledState({listChanging:!0})}),m(R(e),"onListChangeEnd",function(){setTimeout(function(){e.setUncontrolledState({listChanging:!1})})}),m(R(e),"onActiveChange",function(a){var l=e.state.activeKey,r=e.props,c=r.onActiveChange,v=r.itemScrollOffset,p=v===void 0?0:v;l!==a&&(e.setState({activeKey:a}),a!==null&&e.scrollTo({key:a,offset:p}),c==null||c(a))}),m(R(e),"getActiveItem",function(){var a=e.state,l=a.activeKey,r=a.flattenNodes;return l===null?null:r.find(function(c){var v=c.key;return v===l})||null}),m(R(e),"offsetActiveKey",function(a){var l=e.state,r=l.flattenNodes,c=l.activeKey,v=r.findIndex(function(b){var S=b.key;return S===c});v===-1&&a<0&&(v=r.length),v=(v+a+r.length)%r.length;var p=r[v];if(p){var y=p.key;e.onActiveChange(y)}else e.onActiveChange(null)}),m(R(e),"onKeyDown",function(a){var l=e.state,r=l.activeKey,c=l.expandedKeys,v=l.checkedKeys,p=l.fieldNames,y=e.props,b=y.onKeyDown,S=y.checkable,f=y.selectable;switch(a.which){case De.UP:{e.offsetActiveKey(-1),a.preventDefault();break}case De.DOWN:{e.offsetActiveKey(1),a.preventDefault();break}}var h=e.getActiveItem();if(h&&h.data){var N=e.getTreeNodeRequiredProps(),g=h.data.isLeaf===!1||!!(h.data[p.children]||[]).length,C=F(U(U({},Pe(r,N)),{},{data:h.data,active:!0}));switch(a.which){case De.LEFT:{g&&c.includes(r)?e.onNodeExpand({},C):h.parent&&e.onActiveChange(h.parent.key),a.preventDefault();break}case De.RIGHT:{g&&!c.includes(r)?e.onNodeExpand({},C):h.children&&h.children.length&&e.onActiveChange(h.children[0].key),a.preventDefault();break}case De.ENTER:case De.SPACE:{S&&!C.disabled&&C.checkable!==!1&&!C.disableCheckbox?e.onNodeCheck({},C,!v.includes(r)):!S&&f&&!C.disabled&&C.selectable!==!1&&e.onNodeSelect({},C);break}}}b==null||b(a)}),m(R(e),"setUncontrolledState",function(a){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(!e.destroyed){var c=!1,v=!0,p={};Object.keys(a).forEach(function(y){if(e.props.hasOwnProperty(y)){v=!1;return}c=!0,p[y]=a[y]}),c&&(!l||v)&&e.setState(U(U({},p),r))}}),m(R(e),"scrollTo",function(a){e.listRef.current.scrollTo(a)}),e}return Rt(o,[{key:"componentDidMount",value:function(){this.destroyed=!1,this.onUpdated()}},{key:"componentDidUpdate",value:function(){this.onUpdated()}},{key:"onUpdated",value:function(){var d=this.props,s=d.activeKey,x=d.itemScrollOffset,a=x===void 0?0:x;s!==void 0&&s!==this.state.activeKey&&(this.setState({activeKey:s}),s!==null&&this.scrollTo({key:s,offset:a}))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("dragend",this.onWindowDragEnd),this.destroyed=!0}},{key:"resetDragState",value:function(){this.setState({dragOverNodeKey:null,dropPosition:null,dropLevelOffset:null,dropTargetKey:null,dropContainerKey:null,dropTargetPos:null,dropAllowed:!1})}},{key:"render",value:function(){var d=this.state,s=d.focused,x=d.flattenNodes,a=d.keyEntities,l=d.draggingNodeKey,r=d.activeKey,c=d.dropLevelOffset,v=d.dropContainerKey,p=d.dropTargetKey,y=d.dropPosition,b=d.dragOverNodeKey,S=d.indent,f=this.props,h=f.prefixCls,N=f.className,g=f.style,C=f.showLine,w=f.focusable,$=f.tabIndex,K=$===void 0?0:$,i=f.selectable,k=f.showIcon,O=f.icon,I=f.switcherIcon,T=f.draggable,A=f.checkable,D=f.checkStrictly,P=f.disabled,_=f.motion,j=f.loadData,V=f.filterTreeNode,le=f.height,se=f.itemHeight,fe=f.scrollWidth,te=f.virtual,Y=f.titleRender,ne=f.dropIndicatorRender,X=f.onContextMenu,ge=f.onScroll,ye=f.direction,ae=f.rootClassName,ve=f.rootStyle,he=mt(this.props,{aria:!0,data:!0}),H;T&&(_e(T)==="object"?H=T:typeof T=="function"?H={nodeDraggable:T}:H={});var z={prefixCls:h,selectable:i,showIcon:k,icon:O,switcherIcon:I,draggable:H,draggingNodeKey:l,checkable:A,checkStrictly:D,disabled:P,keyEntities:a,dropLevelOffset:c,dropContainerKey:v,dropTargetKey:p,dropPosition:y,dragOverNodeKey:b,indent:S,direction:ye,dropIndicatorRender:ne,loadData:j,filterTreeNode:V,titleRender:Y,onNodeClick:this.onNodeClick,onNodeDoubleClick:this.onNodeDoubleClick,onNodeExpand:this.onNodeExpand,onNodeSelect:this.onNodeSelect,onNodeCheck:this.onNodeCheck,onNodeLoad:this.onNodeLoad,onNodeMouseEnter:this.onNodeMouseEnter,onNodeMouseLeave:this.onNodeMouseLeave,onNodeContextMenu:this.onNodeContextMenu,onNodeDragStart:this.onNodeDragStart,onNodeDragEnter:this.onNodeDragEnter,onNodeDragOver:this.onNodeDragOver,onNodeDragLeave:this.onNodeDragLeave,onNodeDragEnd:this.onNodeDragEnd,onNodeDrop:this.onNodeDrop};return u.createElement(Ue.Provider,{value:z},u.createElement("div",{className:q(h,N,ae,m(m(m({},"".concat(h,"-show-line"),C),"".concat(h,"-focused"),s),"".concat(h,"-active-focused"),r!==null)),style:ve},u.createElement(Dn,G({ref:this.listRef,prefixCls:h,style:g,data:x,disabled:P,selectable:i,checkable:!!A,motion:_,dragging:l!==null,height:le,itemHeight:se,virtual:te,focusable:w,focused:s,tabIndex:K,activeItem:this.getActiveItem(),onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onKeyDown,onActiveChange:this.onActiveChange,onListChangeStart:this.onListChangeStart,onListChangeEnd:this.onListChangeEnd,onContextMenu:X,onScroll:ge,scrollWidth:fe},this.getTreeNodeRequiredProps(),he))))}}],[{key:"getDerivedStateFromProps",value:function(d,s){var x=s.prevProps,a={prevProps:d};function l(K){return!x&&d.hasOwnProperty(K)||x&&x[K]!==d[K]}var r,c=s.fieldNames;if(l("fieldNames")&&(c=Ge(d.fieldNames),a.fieldNames=c),l("treeData")?r=d.treeData:l("children")&&(Re(!1,"`children` of Tree is deprecated. Please use `treeData` instead."),r=Lt(d.children)),r){a.treeData=r;var v=At(r,{fieldNames:c});a.keyEntities=U(m({},Se,bt),v.keyEntities)}var p=a.keyEntities||s.keyEntities;if(l("expandedKeys")||x&&l("autoExpandParent"))a.expandedKeys=d.autoExpandParent||!x&&d.defaultExpandParent?rt(d.expandedKeys,p):d.expandedKeys;else if(!x&&d.defaultExpandAll){var y=U({},p);delete y[Se];var b=[];Object.keys(y).forEach(function(K){var i=y[K];i.children&&i.children.length&&b.push(i.key)}),a.expandedKeys=b}else!x&&d.defaultExpandedKeys&&(a.expandedKeys=d.autoExpandParent||d.defaultExpandParent?rt(d.defaultExpandedKeys,p):d.defaultExpandedKeys);if(a.expandedKeys||delete a.expandedKeys,r||a.expandedKeys){var S=ze(r||s.treeData,a.expandedKeys||s.expandedKeys,c);a.flattenNodes=S}if(d.selectable&&(l("selectedKeys")?a.selectedKeys=at(d.selectedKeys,d):!x&&d.defaultSelectedKeys&&(a.selectedKeys=at(d.defaultSelectedKeys,d))),d.checkable){var f;if(l("checkedKeys")?f=Fe(d.checkedKeys)||{}:!x&&d.defaultCheckedKeys?f=Fe(d.defaultCheckedKeys)||{}:r&&(f=Fe(d.checkedKeys)||{checkedKeys:s.checkedKeys,halfCheckedKeys:s.halfCheckedKeys}),f){var h=f,N=h.checkedKeys,g=N===void 0?[]:N,C=h.halfCheckedKeys,w=C===void 0?[]:C;if(!d.checkStrictly){var $=je(g,!0,p);g=$.checkedKeys,w=$.halfCheckedKeys}a.checkedKeys=g,a.halfCheckedKeys=w}}return l("loadedKeys")&&(a.loadedKeys=d.loadedKeys),a}}]),o}(u.Component);m(xt,"defaultProps",{prefixCls:"rc-tree",showLine:!1,showIcon:!0,selectable:!0,multiple:!1,checkable:!1,disabled:!1,checkStrictly:!1,draggable:!1,defaultExpandParent:!0,autoExpandParent:!1,defaultExpandAll:!1,defaultExpandedKeys:[],defaultCheckedKeys:[],defaultSelectedKeys:[],dropIndicatorRender:bn,allowDrop:function(){return!0},expandAction:!1});m(xt,"TreeNode",Le);const kn=n=>{let{treeCls:t,treeNodeCls:o,directoryNodeSelectedBg:e,directoryNodeSelectedColor:d,motionDurationMid:s,borderRadius:x,controlItemBgHover:a}=n;return{[`${t}${t}-directory ${o}`]:{[`${t}-node-content-wrapper`]:{position:"static",[`> *:not(${t}-drop-indicator)`]:{position:"relative"},"&:hover":{background:"transparent"},"&:before":{position:"absolute",inset:0,transition:`background-color ${s}`,content:'""',borderRadius:x},"&:hover:before":{background:a}},[`${t}-switcher, ${t}-checkbox, ${t}-draggable-icon`]:{zIndex:1},"&-selected":{[`${t}-switcher, ${t}-draggable-icon`]:{color:d},[`${t}-node-content-wrapper`]:{color:d,background:"transparent","&:before, &:hover:before":{background:e}}}}}},On=new Mt("ant-tree-node-fx-do-not-use",{"0%":{opacity:0},"100%":{opacity:1}}),Rn=(n,t)=>({[`.${n}-switcher-icon`]:{display:"inline-block",fontSize:10,verticalAlign:"baseline",svg:{transition:`transform ${t.motionDurationSlow}`}}}),Pn=(n,t)=>({[`.${n}-drop-indicator`]:{position:"absolute",zIndex:1,height:2,backgroundColor:t.colorPrimary,borderRadius:1,pointerEvents:"none","&:after":{position:"absolute",top:-3,insetInlineStart:-6,width:8,height:8,backgroundColor:"transparent",border:`${ee(t.lineWidthBold)} solid ${t.colorPrimary}`,borderRadius:"50%",content:'""'}}}),Mn=(n,t)=>{const{treeCls:o,treeNodeCls:e,treeNodePadding:d,titleHeight:s,indentSize:x,nodeSelectedBg:a,nodeHoverBg:l,colorTextQuaternary:r,controlItemBgActiveDisabled:c}=t;return{[o]:Object.assign(Object.assign({},vt(t)),{background:t.colorBgContainer,borderRadius:t.borderRadius,transition:`background-color ${t.motionDurationSlow}`,"&-rtl":{direction:"rtl"},[`&${o}-rtl ${o}-switcher_close ${o}-switcher-icon svg`]:{transform:"rotate(90deg)"},[`&-focused:not(:hover):not(${o}-active-focused)`]:Object.assign({},ht(t)),[`${o}-list-holder-inner`]:{alignItems:"flex-start"},[`&${o}-block-node`]:{[`${o}-list-holder-inner`]:{alignItems:"stretch",[`${o}-node-content-wrapper`]:{flex:"auto"},[`${e}.dragging:after`]:{position:"absolute",inset:0,border:`1px solid ${t.colorPrimary}`,opacity:0,animationName:On,animationDuration:t.motionDurationSlow,animationPlayState:"running",animationFillMode:"forwards",content:'""',pointerEvents:"none",borderRadius:t.borderRadius}}},[e]:{display:"flex",alignItems:"flex-start",marginBottom:d,lineHeight:ee(s),position:"relative","&:before":{content:'""',position:"absolute",zIndex:1,insetInlineStart:0,width:"100%",top:"100%",height:d},[`&-disabled ${o}-node-content-wrapper`]:{color:t.colorTextDisabled,cursor:"not-allowed","&:hover":{background:"transparent"}},[`${o}-checkbox-disabled + ${o}-node-selected,&${e}-disabled${e}-selected ${o}-node-content-wrapper`]:{backgroundColor:c},[`${o}-checkbox-disabled`]:{pointerEvents:"unset"},[`&:not(${e}-disabled)`]:{[`${o}-node-content-wrapper`]:{"&:hover":{color:t.nodeHoverColor}}},[`&-active ${o}-node-content-wrapper`]:{background:t.controlItemBgHover},[`&:not(${e}-disabled).filter-node ${o}-title`]:{color:t.colorPrimary,fontWeight:500},"&-draggable":{cursor:"grab",[`${o}-draggable-icon`]:{flexShrink:0,width:s,textAlign:"center",visibility:"visible",color:r},[`&${e}-disabled ${o}-draggable-icon`]:{visibility:"hidden"}}},[`${o}-indent`]:{alignSelf:"stretch",whiteSpace:"nowrap",userSelect:"none","&-unit":{display:"inline-block",width:x}},[`${o}-draggable-icon`]:{visibility:"hidden"},[`${o}-switcher, ${o}-checkbox`]:{marginInlineEnd:t.calc(t.calc(s).sub(t.controlInteractiveSize)).div(2).equal()},[`${o}-switcher`]:Object.assign(Object.assign({},Rn(n,t)),{position:"relative",flex:"none",alignSelf:"stretch",width:s,textAlign:"center",cursor:"pointer",userSelect:"none",transition:`all ${t.motionDurationSlow}`,"&-noop":{cursor:"unset"},"&:before":{pointerEvents:"none",content:'""',width:s,height:s,position:"absolute",left:{_skip_check_:!0,value:0},top:0,borderRadius:t.borderRadius,transition:`all ${t.motionDurationSlow}`},[`&:not(${o}-switcher-noop):hover:before`]:{backgroundColor:t.colorBgTextHover},[`&_close ${o}-switcher-icon svg`]:{transform:"rotate(-90deg)"},"&-loading-icon":{color:t.colorPrimary},"&-leaf-line":{position:"relative",zIndex:1,display:"inline-block",width:"100%",height:"100%","&:before":{position:"absolute",top:0,insetInlineEnd:t.calc(s).div(2).equal(),bottom:t.calc(d).mul(-1).equal(),marginInlineStart:-1,borderInlineEnd:`1px solid ${t.colorBorder}`,content:'""'},"&:after":{position:"absolute",width:t.calc(t.calc(s).div(2).equal()).mul(.8).equal(),height:t.calc(s).div(2).equal(),borderBottom:`1px solid ${t.colorBorder}`,content:'""'}}}),[`${o}-node-content-wrapper`]:Object.assign(Object.assign({position:"relative",minHeight:s,paddingBlock:0,paddingInline:t.paddingXS,background:"transparent",borderRadius:t.borderRadius,cursor:"pointer",transition:`all ${t.motionDurationMid}, border 0s, line-height 0s, box-shadow 0s`},Pn(n,t)),{"&:hover":{backgroundColor:l},[`&${o}-node-selected`]:{color:t.nodeSelectedColor,backgroundColor:a},[`${o}-iconEle`]:{display:"inline-block",width:s,height:s,textAlign:"center",verticalAlign:"top","&:empty":{display:"none"}}}),[`${o}-unselectable ${o}-node-content-wrapper:hover`]:{backgroundColor:"transparent"},[`${e}.drop-container > [draggable]`]:{boxShadow:`0 0 0 2px ${t.colorPrimary}`},"&-show-line":{[`${o}-indent-unit`]:{position:"relative",height:"100%","&:before":{position:"absolute",top:0,insetInlineEnd:t.calc(s).div(2).equal(),bottom:t.calc(d).mul(-1).equal(),borderInlineEnd:`1px solid ${t.colorBorder}`,content:'""'},"&-end:before":{display:"none"}},[`${o}-switcher`]:{background:"transparent","&-line-icon":{verticalAlign:"-0.15em"}}},[`${e}-leaf-last ${o}-switcher-leaf-line:before`]:{top:"auto !important",bottom:"auto !important",height:`${ee(t.calc(s).div(2).equal())} !important`}})}},In=(n,t)=>{const o=`.${n}`,e=`${o}-treenode`,d=t.calc(t.paddingXS).div(2).equal(),s=gt(t,{treeCls:o,treeNodeCls:e,treeNodePadding:d});return[Mn(n,s),kn(s)]},Tn=n=>{const{controlHeightSM:t,controlItemBgHover:o,controlItemBgActive:e}=n,d=t;return{titleHeight:d,indentSize:d,nodeHoverBg:o,nodeHoverColor:n.colorText,nodeSelectedBg:e,nodeSelectedColor:n.colorText}},Ln=n=>{const{colorTextLightSolid:t,colorPrimary:o}=n;return Object.assign(Object.assign({},Tn(n)),{directoryNodeSelectedColor:t,directoryNodeSelectedBg:o})},jn=ft("Tree",(n,t)=>{let{prefixCls:o}=t;return[{[n.componentCls]:_t(`${o}-checkbox`,n)},In(o,n),It(n)]},Ln),zn=n=>{const{prefixCls:t,switcherIcon:o,treeNodeProps:e,showLine:d,switcherLoadingIcon:s}=n,{isLeaf:x,expanded:a,loading:l}=e;if(l)return u.isValidElement(s)?s:u.createElement(Tt,{className:`${t}-switcher-loading-icon`});let r;if(d&&typeof d=="object"&&(r=d.showLeafIcon),x){if(!d)return null;if(typeof r!="boolean"&&r){const p=typeof r=="function"?r(e):r,y=`${t}-switcher-line-custom-icon`;return u.isValidElement(p)?Xe(p,{className:q(p.props.className||"",y)}):p}return r?u.createElement(an,{className:`${t}-switcher-line-icon`}):u.createElement("span",{className:`${t}-switcher-leaf-line`})}const c=`${t}-switcher-icon`,v=typeof o=="function"?o(e):o;return u.isValidElement(v)?Xe(v,{className:q(v.props.className||"",c)}):v!==void 0?v:d?a?u.createElement(dn,{className:`${t}-switcher-line-icon`}):u.createElement(cn,{className:`${t}-switcher-line-icon`}):u.createElement(en,{className:c})};export{an as R,zn as S,xt as T,un as U,Bn as a,ue as b,me as c,rt as d,Le as e,In as g,Tn as i,jn as u};
