import{a7 as Q,r as s,C as z,F as X,aW as J,Q as U,V as B,c as M,cf as Y,cg as Z,o as ee,ag as A}from"./index-DzVgSI8Z.js";import{u as ne,C as te}from"./useBubbleLock-DbNax9j1.js";import{u as D}from"./index-DdSXkK1a.js";const F=Q.createContext(null);var se=function(l,i){var c={};for(var n in l)Object.prototype.hasOwnProperty.call(l,n)&&i.indexOf(n)<0&&(c[n]=l[n]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(l);a<n.length;a++)i.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(l,n[a])&&(c[n[a]]=l[n[a]]);return c};const le=(l,i)=>{var c;const{prefixCls:n,className:a,rootClassName:S,children:g,indeterminate:v=!1,style:P,onMouseEnter:h,onMouseLeave:u,skipGroup:O=!1,disabled:w}=l,r=se(l,["prefixCls","className","rootClassName","children","indeterminate","style","onMouseEnter","onMouseLeave","skipGroup","disabled"]),{getPrefixCls:k,direction:j,checkbox:d}=s.useContext(z),t=s.useContext(F),{isFormItemInput:I}=s.useContext(X),_=s.useContext(J),y=(c=(t==null?void 0:t.disabled)||w)!==null&&c!==void 0?c:_,f=s.useRef(r.value),p=s.useRef(null),V=U(i,p);s.useEffect(()=>{t==null||t.registerValue(r.value)},[]),s.useEffect(()=>{if(!O)return r.value!==f.current&&(t==null||t.cancelValue(f.current),t==null||t.registerValue(r.value),f.current=r.value),()=>t==null?void 0:t.cancelValue(r.value)},[r.value]),s.useEffect(()=>{var x;!((x=p.current)===null||x===void 0)&&x.input&&(p.current.input.indeterminate=v)},[v]);const o=k("checkbox",n),E=B(o),[$,N,R]=D(o,E),m=Object.assign({},r);t&&!O&&(m.onChange=function(){r.onChange&&r.onChange.apply(r,arguments),t.toggleOption&&t.toggleOption({label:g,value:r.value})},m.name=t.name,m.checked=t.value.includes(r.value));const G=M(`${o}-wrapper`,{[`${o}-rtl`]:j==="rtl",[`${o}-wrapper-checked`]:m.checked,[`${o}-wrapper-disabled`]:y,[`${o}-wrapper-in-form-item`]:I},d==null?void 0:d.className,a,S,R,E,N),e=M({[`${o}-indeterminate`]:v},Y,N),[C,b]=ne(m.onClick);return $(s.createElement(Z,{component:"Checkbox",disabled:y},s.createElement("label",{className:G,style:Object.assign(Object.assign({},d==null?void 0:d.style),P),onMouseEnter:h,onMouseLeave:u,onClick:C},s.createElement(te,Object.assign({},m,{onClick:b,prefixCls:o,className:e,disabled:y,ref:V})),g!==void 0&&s.createElement("span",{className:`${o}-label`},g))))},T=s.forwardRef(le);var ae=function(l,i){var c={};for(var n in l)Object.prototype.hasOwnProperty.call(l,n)&&i.indexOf(n)<0&&(c[n]=l[n]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(l);a<n.length;a++)i.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(l,n[a])&&(c[n[a]]=l[n[a]]);return c};const re=s.forwardRef((l,i)=>{const{defaultValue:c,children:n,options:a=[],prefixCls:S,className:g,rootClassName:v,style:P,onChange:h}=l,u=ae(l,["defaultValue","children","options","prefixCls","className","rootClassName","style","onChange"]),{getPrefixCls:O,direction:w}=s.useContext(z),[r,k]=s.useState(u.value||c||[]),[j,d]=s.useState([]);s.useEffect(()=>{"value"in u&&k(u.value||[])},[u.value]);const t=s.useMemo(()=>a.map(e=>typeof e=="string"||typeof e=="number"?{label:e,value:e}:e),[a]),I=e=>{d(C=>C.filter(b=>b!==e))},_=e=>{d(C=>[].concat(A(C),[e]))},y=e=>{const C=r.indexOf(e.value),b=A(r);C===-1?b.push(e.value):b.splice(C,1),"value"in u||k(b),h==null||h(b.filter(x=>j.includes(x)).sort((x,W)=>{const H=t.findIndex(L=>L.value===x),K=t.findIndex(L=>L.value===W);return H-K}))},f=O("checkbox",S),p=`${f}-group`,V=B(f),[o,E,$]=D(f,V),N=ee(u,["value","disabled"]),R=a.length?t.map(e=>s.createElement(T,{prefixCls:f,key:e.value.toString(),disabled:"disabled"in e?e.disabled:u.disabled,value:e.value,checked:r.includes(e.value),onChange:e.onChange,className:`${p}-item`,style:e.style,title:e.title,id:e.id,required:e.required},e.label)):n,m={toggleOption:y,value:r,disabled:u.disabled,name:u.name,registerValue:_,cancelValue:I},G=M(p,{[`${p}-rtl`]:w==="rtl"},g,v,$,V,E);return o(s.createElement("div",Object.assign({className:G,style:P},N,{ref:i}),s.createElement(F.Provider,{value:m},R)))}),q=T;q.Group=re;q.__ANT_CHECKBOX=!0;export{q as C};
