import{V as W,r as s,C as z,F as X,aL as Q,av as U,aJ as B,c as M,cM as Y,cK as Z,o as ee,a3 as A}from"./index-B3Xbo6Ht.js";import{u as ne,C as te}from"./useBubbleLock-3E8WoET7.js";import{u as D}from"./index-BduEJMbn.js";const F=W.createContext(null);var se=function(a,i){var c={};for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&i.indexOf(n)<0&&(c[n]=a[n]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,n=Object.getOwnPropertySymbols(a);l<n.length;l++)i.indexOf(n[l])<0&&Object.prototype.propertyIsEnumerable.call(a,n[l])&&(c[n[l]]=a[n[l]]);return c};const ae=(a,i)=>{var c;const{prefixCls:n,className:l,rootClassName:S,children:v,indeterminate:g=!1,style:P,onMouseEnter:h,onMouseLeave:u,skipGroup:O=!1,disabled:w}=a,r=se(a,["prefixCls","className","rootClassName","children","indeterminate","style","onMouseEnter","onMouseLeave","skipGroup","disabled"]),{getPrefixCls:k,direction:j,checkbox:d}=s.useContext(z),t=s.useContext(F),{isFormItemInput:I}=s.useContext(X),_=s.useContext(Q),y=(c=(t==null?void 0:t.disabled)||w)!==null&&c!==void 0?c:_,f=s.useRef(r.value),p=s.useRef(null),V=U(i,p);s.useEffect(()=>{t==null||t.registerValue(r.value)},[]),s.useEffect(()=>{if(!O)return r.value!==f.current&&(t==null||t.cancelValue(f.current),t==null||t.registerValue(r.value),f.current=r.value),()=>t==null?void 0:t.cancelValue(r.value)},[r.value]),s.useEffect(()=>{var x;!((x=p.current)===null||x===void 0)&&x.input&&(p.current.input.indeterminate=g)},[g]);const o=k("checkbox",n),E=B(o),[$,N,R]=D(o,E),m=Object.assign({},r);t&&!O&&(m.onChange=function(){r.onChange&&r.onChange.apply(r,arguments),t.toggleOption&&t.toggleOption({label:v,value:r.value})},m.name=t.name,m.checked=t.value.includes(r.value));const G=M(`${o}-wrapper`,{[`${o}-rtl`]:j==="rtl",[`${o}-wrapper-checked`]:m.checked,[`${o}-wrapper-disabled`]:y,[`${o}-wrapper-in-form-item`]:I},d==null?void 0:d.className,l,S,R,E,N),e=M({[`${o}-indeterminate`]:g},Y,N),[C,b]=ne(m.onClick);return $(s.createElement(Z,{component:"Checkbox",disabled:y},s.createElement("label",{className:G,style:Object.assign(Object.assign({},d==null?void 0:d.style),P),onMouseEnter:h,onMouseLeave:u,onClick:C},s.createElement(te,Object.assign({},m,{onClick:b,prefixCls:o,className:e,disabled:y,ref:V})),v!==void 0&&s.createElement("span",{className:`${o}-label`},v))))},T=s.forwardRef(ae);var le=function(a,i){var c={};for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&i.indexOf(n)<0&&(c[n]=a[n]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,n=Object.getOwnPropertySymbols(a);l<n.length;l++)i.indexOf(n[l])<0&&Object.prototype.propertyIsEnumerable.call(a,n[l])&&(c[n[l]]=a[n[l]]);return c};const re=s.forwardRef((a,i)=>{const{defaultValue:c,children:n,options:l=[],prefixCls:S,className:v,rootClassName:g,style:P,onChange:h}=a,u=le(a,["defaultValue","children","options","prefixCls","className","rootClassName","style","onChange"]),{getPrefixCls:O,direction:w}=s.useContext(z),[r,k]=s.useState(u.value||c||[]),[j,d]=s.useState([]);s.useEffect(()=>{"value"in u&&k(u.value||[])},[u.value]);const t=s.useMemo(()=>l.map(e=>typeof e=="string"||typeof e=="number"?{label:e,value:e}:e),[l]),I=e=>{d(C=>C.filter(b=>b!==e))},_=e=>{d(C=>[].concat(A(C),[e]))},y=e=>{const C=r.indexOf(e.value),b=A(r);C===-1?b.push(e.value):b.splice(C,1),"value"in u||k(b),h==null||h(b.filter(x=>j.includes(x)).sort((x,K)=>{const H=t.findIndex(L=>L.value===x),J=t.findIndex(L=>L.value===K);return H-J}))},f=O("checkbox",S),p=`${f}-group`,V=B(f),[o,E,$]=D(f,V),N=ee(u,["value","disabled"]),R=l.length?t.map(e=>s.createElement(T,{prefixCls:f,key:e.value.toString(),disabled:"disabled"in e?e.disabled:u.disabled,value:e.value,checked:r.includes(e.value),onChange:e.onChange,className:`${p}-item`,style:e.style,title:e.title,id:e.id,required:e.required},e.label)):n,m={toggleOption:y,value:r,disabled:u.disabled,name:u.name,registerValue:_,cancelValue:I},G=M(p,{[`${p}-rtl`]:w==="rtl"},v,g,$,V,E);return o(s.createElement("div",Object.assign({className:G,style:P},N,{ref:i}),s.createElement(F.Provider,{value:m},R)))}),q=T;q.Group=re;q.__ANT_CHECKBOX=!0;export{q as C};
