import{R as W,r as s,C as z,ak as X,am as J,ab as U,ai as B,c as M,bQ as Y,bR as Z,o as ee,k as A}from"./index-CcZojvJu.js";import{u as ne,C as te}from"./useBubbleLock-EXRlXtaI.js";import{u as D}from"./index-Cn-4HR6j.js";const T=W.createContext(null);var se=function(a,i){var o={};for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&i.indexOf(n)<0&&(o[n]=a[n]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,n=Object.getOwnPropertySymbols(a);l<n.length;l++)i.indexOf(n[l])<0&&Object.prototype.propertyIsEnumerable.call(a,n[l])&&(o[n[l]]=a[n[l]]);return o};const ae=(a,i)=>{var o;const{prefixCls:n,className:l,rootClassName:S,children:v,indeterminate:g=!1,style:P,onMouseEnter:h,onMouseLeave:u,skipGroup:O=!1,disabled:w}=a,r=se(a,["prefixCls","className","rootClassName","children","indeterminate","style","onMouseEnter","onMouseLeave","skipGroup","disabled"]),{getPrefixCls:k,direction:j,checkbox:d}=s.useContext(z),t=s.useContext(T),{isFormItemInput:I}=s.useContext(X),_=s.useContext(J),y=(o=(t==null?void 0:t.disabled)||w)!==null&&o!==void 0?o:_,f=s.useRef(r.value),p=s.useRef(null),E=U(i,p);s.useEffect(()=>{t==null||t.registerValue(r.value)},[]),s.useEffect(()=>{if(!O)return r.value!==f.current&&(t==null||t.cancelValue(f.current),t==null||t.registerValue(r.value),f.current=r.value),()=>t==null?void 0:t.cancelValue(r.value)},[r.value]),s.useEffect(()=>{var x;!((x=p.current)===null||x===void 0)&&x.input&&(p.current.input.indeterminate=g)},[g]);const c=k("checkbox",n),V=B(c),[$,N,R]=D(c,V),m=Object.assign({},r);t&&!O&&(m.onChange=function(){r.onChange&&r.onChange.apply(r,arguments),t.toggleOption&&t.toggleOption({label:v,value:r.value})},m.name=t.name,m.checked=t.value.includes(r.value));const G=M(`${c}-wrapper`,{[`${c}-rtl`]:j==="rtl",[`${c}-wrapper-checked`]:m.checked,[`${c}-wrapper-disabled`]:y,[`${c}-wrapper-in-form-item`]:I},d==null?void 0:d.className,l,S,R,V,N),e=M({[`${c}-indeterminate`]:g},Y,N),[b,C]=ne(m.onClick);return $(s.createElement(Z,{component:"Checkbox",disabled:y},s.createElement("label",{className:G,style:Object.assign(Object.assign({},d==null?void 0:d.style),P),onMouseEnter:h,onMouseLeave:u,onClick:b},s.createElement(te,Object.assign({},m,{onClick:C,prefixCls:c,className:e,disabled:y,ref:E})),v!==void 0&&s.createElement("span",{className:`${c}-label`},v))))},q=s.forwardRef(ae);var le=function(a,i){var o={};for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&i.indexOf(n)<0&&(o[n]=a[n]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,n=Object.getOwnPropertySymbols(a);l<n.length;l++)i.indexOf(n[l])<0&&Object.prototype.propertyIsEnumerable.call(a,n[l])&&(o[n[l]]=a[n[l]]);return o};const re=s.forwardRef((a,i)=>{const{defaultValue:o,children:n,options:l=[],prefixCls:S,className:v,rootClassName:g,style:P,onChange:h}=a,u=le(a,["defaultValue","children","options","prefixCls","className","rootClassName","style","onChange"]),{getPrefixCls:O,direction:w}=s.useContext(z),[r,k]=s.useState(u.value||o||[]),[j,d]=s.useState([]);s.useEffect(()=>{"value"in u&&k(u.value||[])},[u.value]);const t=s.useMemo(()=>l.map(e=>typeof e=="string"||typeof e=="number"?{label:e,value:e}:e),[l]),I=e=>{d(b=>b.filter(C=>C!==e))},_=e=>{d(b=>[].concat(A(b),[e]))},y=e=>{const b=r.indexOf(e.value),C=A(r);b===-1?C.push(e.value):C.splice(b,1),"value"in u||k(C),h==null||h(C.filter(x=>j.includes(x)).sort((x,H)=>{const K=t.findIndex(L=>L.value===x),Q=t.findIndex(L=>L.value===H);return K-Q}))},f=O("checkbox",S),p=`${f}-group`,E=B(f),[c,V,$]=D(f,E),N=ee(u,["value","disabled"]),R=l.length?t.map(e=>s.createElement(q,{prefixCls:f,key:e.value.toString(),disabled:"disabled"in e?e.disabled:u.disabled,value:e.value,checked:r.includes(e.value),onChange:e.onChange,className:`${p}-item`,style:e.style,title:e.title,id:e.id,required:e.required},e.label)):n,m={toggleOption:y,value:r,disabled:u.disabled,name:u.name,registerValue:_,cancelValue:I},G=M(p,{[`${p}-rtl`]:w==="rtl"},v,g,$,E,V);return c(s.createElement("div",Object.assign({className:G,style:P},N,{ref:i}),s.createElement(T.Provider,{value:m},R)))}),F=q;F.Group=re;F.__ANT_CHECKBOX=!0;export{F as C};
