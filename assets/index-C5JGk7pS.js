import{r,h as Q,m as Y,i as Z,k as ce,az as de,C as U,af as ue,d as fe,bQ as pe,ad as J,c as B,a3 as ge,bR as me,bS as be,bT as ve,bF as ye,bU as he,bV as Ce,l as Se,n as xe,b9 as Oe,a8 as Pe,an as ee,a0 as $e,t as ze}from"./index-29UGgA2u.js";const K=r.createContext({}),je=e=>{const{antCls:n,componentCls:o,iconCls:t,avatarBg:s,avatarColor:i,containerSize:u,containerSizeLG:f,containerSizeSM:c,textFontSize:p,textFontSizeLG:l,textFontSizeSM:C,borderRadius:m,borderRadiusLG:d,borderRadiusSM:S,lineWidth:b,lineType:O}=e,z=(a,x,N)=>({width:a,height:a,borderRadius:"50%",[`&${o}-square`]:{borderRadius:N},[`&${o}-icon`]:{fontSize:x,[`> ${t}`]:{margin:0}}});return{[o]:Object.assign(Object.assign(Object.assign(Object.assign({},Z(e)),{position:"relative",display:"inline-flex",justifyContent:"center",alignItems:"center",overflow:"hidden",color:i,whiteSpace:"nowrap",textAlign:"center",verticalAlign:"middle",background:s,border:`${ce(b)} ${O} transparent`,"&-image":{background:"transparent"},[`${n}-image-img`]:{display:"block"}}),z(u,p,m)),{"&-lg":Object.assign({},z(f,l,d)),"&-sm":Object.assign({},z(c,C,S)),"> img":{display:"block",width:"100%",height:"100%",objectFit:"cover"}})}},we=e=>{const{componentCls:n,groupBorderColor:o,groupOverlapping:t,groupSpace:s}=e;return{[`${n}-group`]:{display:"inline-flex",[n]:{borderColor:o},"> *:not(:first-child)":{marginInlineStart:t}},[`${n}-group-popover`]:{[`${n} + ${n}`]:{marginInlineStart:s}}}},Ne=e=>{const{controlHeight:n,controlHeightLG:o,controlHeightSM:t,fontSize:s,fontSizeLG:i,fontSizeXL:u,fontSizeHeading3:f,marginXS:c,marginXXS:p,colorBorderBg:l}=e;return{containerSize:n,containerSizeLG:o,containerSizeSM:t,textFontSize:Math.round((i+u)/2),textFontSizeLG:f,textFontSizeSM:s,groupSpace:p,groupOverlapping:-c,groupBorderColor:l}},te=Q("Avatar",e=>{const{colorTextLightSolid:n,colorTextPlaceholder:o}=e,t=Y(e,{avatarBg:o,avatarColor:n});return[je(t),we(t)]},Ne);var Ee=function(e,n){var o={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(o[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,t=Object.getOwnPropertySymbols(e);s<t.length;s++)n.indexOf(t[s])<0&&Object.prototype.propertyIsEnumerable.call(e,t[s])&&(o[t[s]]=e[t[s]]);return o};const ke=(e,n)=>{const[o,t]=r.useState(1),[s,i]=r.useState(!1),[u,f]=r.useState(!0),c=r.useRef(null),p=r.useRef(null),l=de(n,c),{getPrefixCls:C,avatar:m}=r.useContext(U),d=r.useContext(K),S=()=>{if(!p.current||!c.current)return;const v=p.current.offsetWidth,y=c.current.offsetWidth;if(v!==0&&y!==0){const{gap:k=4}=e;k*2<y&&t(y-k*2<v?(y-k*2)/v:1)}};r.useEffect(()=>{i(!0)},[]),r.useEffect(()=>{f(!0),t(1)},[e.src]),r.useEffect(S,[e.gap]);const b=()=>{const{onError:v}=e;(v==null?void 0:v())!==!1&&f(!1)},{prefixCls:O,shape:z,size:a,src:x,srcSet:N,icon:$,className:R,rootClassName:I,alt:G,draggable:_,children:j,crossOrigin:E}=e,w=Ee(e,["prefixCls","shape","size","src","srcSet","icon","className","rootClassName","alt","draggable","children","crossOrigin"]),g=ue(v=>{var y,k;return(k=(y=a??(d==null?void 0:d.size))!==null&&y!==void 0?y:v)!==null&&k!==void 0?k:"default"}),T=Object.keys(typeof g=="object"?g||{}:{}).some(v=>["xs","sm","md","lg","xl","xxl"].includes(v)),M=fe(T),W=r.useMemo(()=>{if(typeof g!="object")return{};const v=pe.find(k=>M[k]),y=g[v];return y?{width:y,height:y,fontSize:y&&($||j)?y/2:18}:{}},[M,g]),h=C("avatar",O),A=J(h),[H,D,P]=te(h,A),L=B({[`${h}-lg`]:g==="large",[`${h}-sm`]:g==="small"}),V=r.isValidElement(x),ae=z||(d==null?void 0:d.shape)||"circle",ie=B(h,L,m==null?void 0:m.className,`${h}-${ae}`,{[`${h}-image`]:V||x&&u,[`${h}-icon`]:!!$},P,A,R,I,D),le=typeof g=="number"?{width:g,height:g,fontSize:$?g/2:18}:{};let F;if(typeof x=="string"&&u)F=r.createElement("img",{src:x,draggable:_,srcSet:N,onError:b,alt:G,crossOrigin:E});else if(V)F=x;else if($)F=$;else if(s||o!==1){const v=`scale(${o})`,y={msTransform:v,WebkitTransform:v,transform:v};F=r.createElement(ge,{onResize:S},r.createElement("span",{className:`${h}-string`,ref:p,style:Object.assign({},y)},j))}else F=r.createElement("span",{className:`${h}-string`,style:{opacity:0},ref:p},j);return delete w.onError,delete w.gap,H(r.createElement("span",Object.assign({},w,{style:Object.assign(Object.assign(Object.assign(Object.assign({},le),W),m==null?void 0:m.style),w.style),className:ie,ref:l}),F))},ne=r.forwardRef(ke),X=e=>e?typeof e=="function"?e():e:null,Be=e=>{const{componentCls:n,popoverColor:o,titleMinWidth:t,fontWeightStrong:s,innerPadding:i,boxShadowSecondary:u,colorTextHeading:f,borderRadiusLG:c,zIndexPopup:p,titleMarginBottom:l,colorBgElevated:C,popoverBg:m,titleBorderBottom:d,innerContentPadding:S,titlePadding:b}=e;return[{[n]:Object.assign(Object.assign({},Z(e)),{position:"absolute",top:0,left:{_skip_check_:!0,value:0},zIndex:p,fontWeight:"normal",whiteSpace:"normal",textAlign:"start",cursor:"auto",userSelect:"text","--valid-offset-x":"var(--arrow-offset-horizontal, var(--arrow-x))",transformOrigin:["var(--valid-offset-x, 50%)","var(--arrow-y, 50%)"].join(" "),"--antd-arrow-background-color":C,width:"max-content",maxWidth:"100vw","&-rtl":{direction:"rtl"},"&-hidden":{display:"none"},[`${n}-content`]:{position:"relative"},[`${n}-inner`]:{backgroundColor:m,backgroundClip:"padding-box",borderRadius:c,boxShadow:u,padding:i},[`${n}-title`]:{minWidth:t,marginBottom:l,color:f,fontWeight:s,borderBottom:d,padding:b},[`${n}-inner-content`]:{color:o,padding:S}})},be(e,"var(--antd-arrow-background-color)"),{[`${n}-pure`]:{position:"relative",maxWidth:"none",margin:e.sizePopupArrow,display:"inline-block",[`${n}-content`]:{display:"inline-block"}}}]},Re=e=>{const{componentCls:n}=e;return{[n]:ve.map(o=>{const t=e[`${o}6`];return{[`&${n}-${o}`]:{"--antd-arrow-background-color":t,[`${n}-inner`]:{backgroundColor:t},[`${n}-arrow`]:{background:"transparent"}}}})}},Ie=e=>{const{lineWidth:n,controlHeight:o,fontHeight:t,padding:s,wireframe:i,zIndexPopupBase:u,borderRadiusLG:f,marginXS:c,lineType:p,colorSplit:l,paddingSM:C}=e,m=o-t,d=m/2,S=m/2-n,b=s;return Object.assign(Object.assign(Object.assign({titleMinWidth:177,zIndexPopup:u+30},ye(e)),he({contentRadius:f,limitVerticalRadius:!0})),{innerPadding:i?0:12,titleMarginBottom:i?0:c,titlePadding:i?`${d}px ${b}px ${S}px`:0,titleBorderBottom:i?`${n}px ${p} ${l}`:"none",innerContentPadding:i?`${C}px ${b}px`:0})},oe=Q("Popover",e=>{const{colorBgElevated:n,colorText:o}=e,t=Y(e,{popoverBg:n,popoverColor:o});return[Be(t),Re(t),me(t,"zoom-big")]},Ie,{resetStyle:!1,deprecatedTokens:[["width","titleMinWidth"],["minWidth","titleMinWidth"]]});var Te=function(e,n){var o={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(o[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,t=Object.getOwnPropertySymbols(e);s<t.length;s++)n.indexOf(t[s])<0&&Object.prototype.propertyIsEnumerable.call(e,t[s])&&(o[t[s]]=e[t[s]]);return o};const re=e=>{let{title:n,content:o,prefixCls:t}=e;return!n&&!o?null:r.createElement(r.Fragment,null,n&&r.createElement("div",{className:`${t}-title`},n),o&&r.createElement("div",{className:`${t}-inner-content`},o))},_e=e=>{const{hashId:n,prefixCls:o,className:t,style:s,placement:i="top",title:u,content:f,children:c}=e,p=X(u),l=X(f),C=B(n,o,`${o}-pure`,`${o}-placement-${i}`,t);return r.createElement("div",{className:C,style:s},r.createElement("div",{className:`${o}-arrow`}),r.createElement(Ce,Object.assign({},e,{className:n,prefixCls:o}),c||r.createElement(re,{prefixCls:o,title:p,content:l})))},Me=e=>{const{prefixCls:n,className:o}=e,t=Te(e,["prefixCls","className"]),{getPrefixCls:s}=r.useContext(U),i=s("popover",n),[u,f,c]=oe(i);return u(r.createElement(_e,Object.assign({},t,{prefixCls:i,hashId:f,className:B(o,c)})))};var We=function(e,n){var o={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(o[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,t=Object.getOwnPropertySymbols(e);s<t.length;s++)n.indexOf(t[s])<0&&Object.prototype.propertyIsEnumerable.call(e,t[s])&&(o[t[s]]=e[t[s]]);return o};const Ae=r.forwardRef((e,n)=>{var o,t;const{prefixCls:s,title:i,content:u,overlayClassName:f,placement:c="top",trigger:p="hover",children:l,mouseEnterDelay:C=.1,mouseLeaveDelay:m=.1,onOpenChange:d,overlayStyle:S={},styles:b,classNames:O}=e,z=We(e,["prefixCls","title","content","overlayClassName","placement","trigger","children","mouseEnterDelay","mouseLeaveDelay","onOpenChange","overlayStyle","styles","classNames"]),{getPrefixCls:a,className:x,style:N,classNames:$,styles:R}=Se("popover"),I=a("popover",s),[G,_,j]=oe(I),E=a(),w=B(f,_,j,x,$.root,O==null?void 0:O.root),g=B($.body,O==null?void 0:O.body),[T,M]=xe(!1,{value:(o=e.open)!==null&&o!==void 0?o:e.visible,defaultValue:(t=e.defaultOpen)!==null&&t!==void 0?t:e.defaultVisible}),W=(P,L)=>{M(P,!0),d==null||d(P,L)},h=P=>{P.keyCode===$e.ESC&&W(!1,P)},A=P=>{W(P)},H=X(i),D=X(u);return G(r.createElement(Oe,Object.assign({placement:c,trigger:p,mouseEnterDelay:C,mouseLeaveDelay:m},z,{prefixCls:I,classNames:{root:w,body:g},styles:{root:Object.assign(Object.assign(Object.assign(Object.assign({},R.root),N),S),b==null?void 0:b.root),body:Object.assign(Object.assign({},R.body),b==null?void 0:b.body)},ref:n,open:T,onOpenChange:A,overlay:H||D?r.createElement(re,{prefixCls:I,title:H,content:D}):null,transitionName:Pe(E,"zoom-big",z.transitionName),"data-popover-inject":!0}),ee(l,{onKeyDown:P=>{var L,V;r.isValidElement(l)&&((V=l==null?void 0:(L=l.props).onKeyDown)===null||V===void 0||V.call(L,P)),h(P)}})))}),se=Ae;se._InternalPanelDoNotUseOrYouWillBeFired=Me;const q=e=>{const{size:n,shape:o}=r.useContext(K),t=r.useMemo(()=>({size:e.size||n,shape:e.shape||o}),[e.size,e.shape,n,o]);return r.createElement(K.Provider,{value:t},e.children)},Le=e=>{var n,o,t,s;const{getPrefixCls:i,direction:u}=r.useContext(U),{prefixCls:f,className:c,rootClassName:p,style:l,maxCount:C,maxStyle:m,size:d,shape:S,maxPopoverPlacement:b,maxPopoverTrigger:O,children:z,max:a}=e,x=i("avatar",f),N=`${x}-group`,$=J(x),[R,I,G]=te(x,$),_=B(N,{[`${N}-rtl`]:u==="rtl"},G,$,c,p,I),j=ze(z).map((g,T)=>ee(g,{key:`avatar-key-${T}`})),E=(a==null?void 0:a.count)||C,w=j.length;if(E&&E<w){const g=j.slice(0,E),T=j.slice(E,w),M=(a==null?void 0:a.style)||m,W=((n=a==null?void 0:a.popover)===null||n===void 0?void 0:n.trigger)||O||"hover",h=((o=a==null?void 0:a.popover)===null||o===void 0?void 0:o.placement)||b||"top",A=Object.assign(Object.assign({content:T},a==null?void 0:a.popover),{classNames:{root:B(`${N}-popover`,(s=(t=a==null?void 0:a.popover)===null||t===void 0?void 0:t.classNames)===null||s===void 0?void 0:s.root)},placement:h,trigger:W});return g.push(r.createElement(se,Object.assign({key:"avatar-popover-key",destroyTooltipOnHide:!0},A),r.createElement(ne,{style:M},`+${w-E}`))),R(r.createElement(q,{shape:S,size:d},r.createElement("div",{className:_,style:l},g)))}return R(r.createElement(q,{shape:S,size:d},r.createElement("div",{className:_,style:l},j)))},Ve=ne;Ve.Group=Le;export{Ve as A};
